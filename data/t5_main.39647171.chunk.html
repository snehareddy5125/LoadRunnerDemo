(this["webpackJsonpilp-et"]=this["webpackJsonpilp-et"]||[]).push([[0],{170:function(e,a,t){e.exports=t.p+"static/media/home.efcbcdcc.png"},171:function(e,a){e.exports="data:image/png;base64,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"},193:function(e,a,t){e.exports=t(361)},198:function(e,a,t){},276:function(e,a){},278:function(e,a){},313:function(e,a){},314:function(e,a){},359:function(e,a,t){},361:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(36),c=t.n(s),r=(t(198),t(45)),o=t(1),p=t(169),i=t.n(p).a.create({baseURL:"http://52.73.154.245"}),m=t(4),d=t(170),u=t.n(d),_=t(171),E=t.n(_),b=function(e){var a=Object(n.useState)(""),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(""),p=Object(o.a)(r,2),d=p[0],_=p[1],b=Object(n.useState)(!1),x=Object(o.a)(b,2),f=x[0],N=x[1],h=Object(n.useCallback)((function(a){if(a.preventDefault(),!f){N(!0);var t=!1;""===s?t=!0:""===d&&(t=!0),t?N(!1):i({method:"POST",url:"/login",data:{userName:s,userPassword:d}}).then((function(a){console.log(a),N(!1),localStorage.accessToken=a.data.accessToken,localStorage.roleId=a.data.message.roleId,localStorage.actions=JSON.stringify(a.data.message.actions),localStorage.userRole=a.data.message.role,localStorage.userId=a.data.message.userId,localStorage.userName=a.data.message.userName,e.history.push("/")})).catch((function(e){console.log(e),N(!1),m.NotificationManager.error("Something went wrong! Please try again","Error",3e3)}))}}),[f,s,d,e.history]);return l.a.createElement("div",{className:"auth"},l.a.createElement("div",{className:"auth__home"},l.a.createElement("div",{className:"auth__home__heading"},l.a.createElement("b",null,"Fast\xa0"),"Tracker",l.a.createElement("div",{className:"auth__home__heading__underline auth__home__heading__underline__1"}),l.a.createElement("div",{className:"auth__home__heading__underline auth__home__heading__underline__2"})),l.a.createElement("img",{className:"auth__home__icon",src:u.a,alt:"home"}),l.a.createElement("p",{className:"auth__home__footer"},l.a.createElement("b",null,l.a.createElement("i",{className:"fas fa-rupee-sign"}),"Track all your expenses on all devices"))),l.a.createElement("form",{onSubmit:h,className:"auth__form",noValidate:!0},l.a.createElement("img",{className:"auth__form__logo",src:E.a,alt:"et"}),l.a.createElement("div",{className:"auth__form__content"},l.a.createElement("p",{className:"auth__form__content__heading"},"Login to track expenses"),l.a.createElement("input",{type:"text",value:s,onChange:function(e){return c(e.target.value)},id:"userName",className:"auth__form__content__input",placeholder:"Login ID"}),l.a.createElement("p",{className:"auth__form__content__info"},"Please enter your Login ID"),l.a.createElement("input",{type:"password",value:d,onChange:function(e){return _(e.target.value)},className:"auth__form__content__input",placeholder:"Password"}),l.a.createElement("p",{className:"auth__form__content__info"},"Please enter your password"),l.a.createElement("button",{type:"submit",className:"auth__form__content__login",disabled:f},"LOG IN")),l.a.createElement("p",{className:"auth__form__footer"},l.a.createElement("i",{className:"fas fa-heart"}),"Made with Love by Zensark")))},x=t(37),f=t(40),N=t(5),h=t(13),g=t.n(h),v=(t(39),t(3)),j=t.n(v),y=t(16),O=t.n(y),S=t(20),k=t.n(S),D=t(22),M=t.n(D),C=function(e){var a=Object(n.useState)(0),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)([]),p=Object(o.a)(r,2),d=p[0],u=p[1],_=Object(n.useState)(!1),E=Object(o.a)(_,2),b=E[0],x=E[1],f=Object(n.useState)(1),h=Object(o.a)(f,2),g=h[0],v=h[1];Object(n.useEffect)((function(){i({method:"GET",url:"/getExpenseById/".concat(e.expenseId),headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),u(e.data.message.imageUrl),v(e.data.message.receiptType)})).catch((function(e){console.log(e.response)}))}),[e.expenseId]);return l.a.createElement("div",null,l.a.createElement("div",{className:"modal__closeDiv"},l.a.createElement("button",{className:"modal__closeDiv__button",onClick:e.closeModal,title:"Close"},l.a.createElement(M.a,{className:"cancel"}))),l.a.createElement("div",{className:"modal__report"},d.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:d[s].signedUrl,className:"modal__report__file",alt:"report"}),1===e.status&&l.a.createElement("button",{disabled:1===d.length&&1===g||b,className:"modal__report__button",onClick:function(){b||(x(!0),i({method:"DELETE",url:"/deleteReceipt/".concat(e.expenseId),headers:{accessToken:localStorage.accessToken,imageUrl:d[s].unsignedUrl}}).then((function(a){console.log(a);var t=Object(N.a)(d);if(t.splice(s,1),e.deleteReceipt(s),0===t.length)return e.closeModal(),!0;x(!1),s===d.length-1&&c(s-1),u(t)})).catch((function(e){console.log(e),Object(m.NotificationManager)("Unable to delete Receipt","Error",3e3)})))},title:"Delete"},l.a.createElement(k.a,{className:"trash"})))),l.a.createElement("div",{className:"modal__pagination"},d.map((function(e,a){return l.a.createElement("button",{key:a,className:a===s?"button is-primary":"button",onClick:a===s?function(){return!1}:function(){return function(e){c(e)}(a)}},a+1)}))))},T=t(51),I=t.n(T),Y=t(44),w=t.n(Y),A=t(70),P=t.n(A),B=t(15),U=t.n(B),F=t(69),H=t.n(F),L=t(21),V=t(378),R=Object(L.a)({switchBase:{"&$checked":{color:"#0E9347"},"&$checked + $track":{backgroundColor:"#0E9347"}},checked:{},track:{}})(V.a),z=t(172),J=t.n(z),q=function(e){var a=Object(n.useState)("password"),t=Object(o.a)(a,2),s=t[0],c=t[1];return console.log(e),l.a.createElement("div",{className:"confirmationModal"},"resetPassword"===e.modalType?l.a.createElement("p",{className:"confirmationModal__content"},l.a.createElement(J.a,{className:"trash confirmationModal__content__iocn",style:{marginRight:"1rem"}}),l.a.createElement("div",null,l.a.createElement("p",{style:{marginBottom:"0.4rem"}},"Are you sure you want to reset this user's password?"),l.a.createElement("span",null,"User password after reset: "),l.a.createElement("input",{type:"text",value:s,onChange:function(e){c(e.target.value)},style:{backgroundColor:"white",borderColor:"#dbdbdb",borderWidth:"1px",borderRadius:"4px",color:"#363636"}}))):l.a.createElement("p",{className:"confirmationModal__content"},"verify"===e.modalType?l.a.createElement(w.a,{className:"verify confirmationModal__content__icon"}):"approve"===e.modalType?l.a.createElement(I.a,{className:"approve confirmationModal__content__icon"}):l.a.createElement(k.a,{className:"trash confirmationModal__content__iocn"}),"deleteImage"===e.modalType?l.a.createElement("span",null,"Are you sure you want to delete the image ?"):l.a.createElement("span",null,"Are you sure you want to"," ","verify"===e.modalType?"Verify":"approve"===e.modalType?"Approve":"Delete"," ","the"," ",l.a.createElement("b",null,"\u20b9\xa0",e.amount&&e.amount.toLocaleString("hi")),"\xa0 expense ?")),l.a.createElement("div",{className:"buttonStack"},l.a.createElement("button",{className:"confirmationModal__yes",disabled:e.yesClicked,onClick:"resetPassword"===e.modalType?function(){e.yesClickFunction(s)}:e.yesClickFunction},"YES"),l.a.createElement("button",{className:"confirmationModal__no",onClick:e.closeConfirmationModal},"NO")))},W=t(23),K=t.n(W),Q=t(61),G=t.n(Q),Z=function(e){var a=Object(n.useState)(e.expense?e.expense.expenseHead:""),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(e.expense?e.expense.paidTo:""),p=Object(o.a)(r,2),d=p[0],u=p[1],_=Object(n.useState)(e.expense?e.expense.towards:""),E=Object(o.a)(_,2),b=E[0],x=E[1],f=Object(n.useState)(e.expense?e.expense.issuedDate:""),h=Object(o.a)(f,2),v=h[0],y=h[1],S=Object(n.useState)(e.expense?e.expense.amount:""),D=Object(o.a)(S,2),M=D[0],C=D[1],T=Object(n.useState)(e.expense?e.expense.paidBy:""),I=Object(o.a)(T,2),Y=I[0],w=I[1],A=Object(n.useState)(e.expense?e.expense.comments:""),P=Object(o.a)(A,2),B=P[0],F=P[1],H=Object(n.useState)([]),L=Object(o.a)(H,2),V=L[0],z=L[1],J=Object(n.useState)(e.expense?e.expense.receiptType:1),W=Object(o.a)(J,2),Q=W[0],Z=W[1],X=Object(n.useState)(e.expense?e.expense.billNumber:""),$=Object(o.a)(X,2),ee=$[0],ae=$[1],te=Object(n.useState)(!!e.expense&&"2"===e.expense.forCA),ne=Object(o.a)(te,2),le=ne[0],se=ne[1],ce=Object(n.useState)(!!e.edit),re=Object(o.a)(ce,2),oe=re[0],pe=re[1],ie=Object(n.useState)(""),me=Object(o.a)(ie,2),de=me[0],ue=me[1],_e=Object(n.useState)(""),Ee=Object(o.a)(_e,2),be=Ee[0],xe=Ee[1],fe=Object(n.useState)(!1),Ne=Object(o.a)(fe,2),he=Ne[0],ge=Ne[1],ve=Object(n.useState)(!1),je=Object(o.a)(ve,2),ye=je[0],Oe=je[1],Se=Object(n.useState)(!1),ke=Object(o.a)(Se,2),De=ke[0],Me=ke[1],Ce=function(){pe(!oe),ue(!1),oe||(c(e.expense.expenseHead),u(e.expense.paidTo),x(e.expense.towards),Z(e.expense.receiptType),ae(e.expense.billNumber),y(e.expense.issuedDate),C(e.expense.amount),w(e.expense.paidBy),F(e.expense.comments),se("2"===e.expense.forCA),z([]))};return l.a.createElement("div",{className:"editExpenseModal"},l.a.createElement(O.a,{isOpen:De,ariaHideApp:!1,contentLabel:"Modal",className:"confirm-modal"},l.a.createElement(q,{closeConfirmationModal:function(){return Me(!1)},modalType:"deleteImage",yesClicked:ye,yesClickFunction:function(){ye||(Oe(!0),i({method:"DELETE",url:"/deleteReceipt/".concat(e.expense.expenseId),headers:{accessToken:localStorage.accessToken,imageUrl:e.expense.imageUrl[be].unsignedUrl}}).then((function(a){console.log(a),e.deleteReceipt(be),xe(""),Oe(!1),Me(!1)})).catch((function(e){console.log(e),Object(m.NotificationManager)("Unable to delete Receipt","Error",3e3)})))}})),l.a.createElement("div",{className:"editExpenseModal__data"},oe?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Expense Head"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Expense Head"),oe?l.a.createElement("select",{value:s,className:"select capitalize",onChange:function(e){return c(e.target.value)}},l.a.createElement("option",{value:""},"Select"),e.expenseHeadList.map((function(e,a){return l.a.createElement("option",{className:"capitalize",value:e,key:a},e)}))):l.a.createElement("span",{className:"editExpenseModal__data__label--edit capitalize"},e.expense.expenseHead),oe&&de&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===s?"Please select an expense head":"")),oe?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Paid To"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Paid To"),oe?l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Paid To*",value:d,onChange:function(e){u(e.target.value)}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.paidTo),oe&&de&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===d?"Paid to cannot be empty":"")),oe?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Towards"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Towards"),oe?l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Towards*",value:b,onChange:function(e){x(e.target.value)}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.towards),oe&&de&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===b?"Towards cannot be empty":"")),l.a.createElement("label",{className:oe?"editExpenseModal__data__label--edit":"editExpenseModal__data__label"},"Receipt Type"),oe?l.a.createElement("select",{className:"select capitalize",value:Q,onChange:function(e){return Z(parseInt(e.target.value))}},l.a.createElement("option",{value:1},"Bill"),l.a.createElement("option",{value:2},"Voucher")):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},1===e.expense.receiptType?"Bill":"Voucher"),oe?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Bill Number"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Bill Number"),oe?l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Bill Number*",value:ee,onChange:function(e){ae(e.target.value)}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.billNumber),oe&&de&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===ee||""===ee.trim()?"Bill number cannot be empty":"")),oe?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Receipt Date"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Receipt Date"),oe?l.a.createElement(g.a,{inputProps:{placeholder:"Issued Date*",className:"input cashExpense__table__input",readOnly:!0},closeOnSelect:!0,closeOnTab:!0,isValidDate:function(e){return!e.isAfter(j.a.utc(new Date))},value:v?new Date(j()(v,"DD-MM-YYYY")._d):"",onChange:function(e){y(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.issuedDate),oe&&de&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===v?"Please select a date":"")),oe?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Amount"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Amount"),oe?l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Amount*",value:M,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&(""===e.target.value?C(e.target.value):parseInt(e.target.value)>1e4?C(1e4):C(parseInt(e.target.value)))}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.amount),oe&&de&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===M?"Amount cannot be empty":"")),oe?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Paid By"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Paid By"),oe?l.a.createElement("select",{className:"select",value:Y,onChange:function(e){""===e.target.value?w(""):w(parseInt(e.target.value))}},l.a.createElement("option",{value:""},"Select"),l.a.createElement("option",{value:parseInt(localStorage.userId)},"Self"),e.employees.map((function(e,a){return e.userId!==parseInt(localStorage.userId)&&(("3"!==localStorage.roleId&&"5"!==localStorage.roleId||3!==e.roleId&&5!==e.roleId)&&l.a.createElement("option",{className:"capitalize",key:a,value:e.userId},e.userName))}))):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.employees.filter((function(a){return a.userId===e.expense.paidBy})).map((function(e,a){return e.userId===parseInt(localStorage.userId)?"Self":e.userName}))),oe&&de&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===Y?"Please select an employee":"")),oe?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Comment"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Comment"),oe?l.a.createElement("textarea",{className:"textarea cashExpense__table__textarea",value:B,onChange:function(e){""===e.target.value&&se(!1),F(e.target.value)},maxLength:150,rows:2}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.comments),oe?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"For Auditor"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"For Auditor"),oe?l.a.createElement("div",{className:"cashExpense__table__forAudit"},l.a.createElement(R,{checked:le,onChange:function(e){return se(e.target.checked)},disabled:0===B.length})):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},"2"===e.expense.forCA?"Yes":"No"),l.a.createElement("div",{className:"editExpenseModal__data__buttonStack"},l.a.createElement("input",{type:"file",style:{display:"none"},id:e.expense?e.expense.expenseId:"image",accept:"image/*",onChange:function(a){var t=e.expense?document.getElementById(e.expense.expenseId).files:document.getElementById("image").files,n=[];if(t.length>0)for(var l=0;l<t.length;l++){if(0!==t[l].type.indexOf("image/")){m.NotificationManager.error("Please upload image files only","Error",3e3),n=[];break}n.push(t[l])}else n=[];z(n),e.expense?document.getElementById(e.expense.expenseId).value="":document.getElementById("image").value=""},multiple:!0}),l.a.createElement("button",{className:"editExpenseModal__data__save",onClick:oe?function(){if(!he){ge(!0),ue(!1);var a=!1;if(""===s?a=!0:""===d?a=!0:""===b?a=!0:""===v?a=!0:""===M?a=!0:""===ee||""===ee.trim()?a=!0:""===Y&&(a=!0),e.expense&&1===Q&&0===e.expense.imageUrl.length&&0===V.length&&(a=!0,m.NotificationManager.warning("For receipt type bill image is mandatory","Warning",5e3)),a)ue(a),ge(!1);else{var t=new FormData;if(t.append("expenseId",e.expense?e.expense.expenseId:""),t.append("expenseType","cash"),t.append("projectId",parseInt(localStorage.projectId)),t.append("paidBy",Y),t.append("billNumber",ee.trim()),t.append("expenseHead",s),t.append("issuedDate",v),t.append("amount",M),t.append("paidTo",d),t.append("receiptType",Q),t.append("towards",b),t.append("comments",B),t.append("forCA",le?2:1),V.length>0)for(var n in V)t.append("receipts",V[n],V[n].name);else t.append("receipts",null);t.append("transactionId",null),t.append("transactionDate",null),e.expense?i({method:"PUT",url:"/updateExpense",data:t,headers:{"Content-Type":"multipart/form-data",accessToken:localStorage.accessToken}}).then((function(t){console.log(t),ge(!1),Ce(),ue(a),e.updateExpense(t.data.message),e.closeEditModal()})).catch((function(e){ge(!1),m.NotificationManager.error("Unable to update the expense","Error",3e3),ue(e)})):i({method:"POST",url:"/reportExpense",data:t,headers:{"Content-Type":"multipart/form-data",accessToken:localStorage.accessToken}}).then((function(t){console.log(t),ge(!1),ue(a),e.refreshExpenses(t.data.message),e.closeEditModal()})).catch((function(e){ge(!1),m.NotificationManager.error("Unable to add the expense","Error",3e3),ue(e)}))}}}:Ce,disabled:he||e.expense&&1!==e.expense.status},oe?l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,{className:"editExpenseModal__data__save--icon"})," ","SAVE"):l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{className:"editExpenseModal__data__save--icon"})," ","EDIT"," ")),l.a.createElement("button",{className:"editExpenseModal__data__cancel",onClick:oe&&e.expense?Ce:e.closeEditModal},"CANCEL"))),l.a.createElement("div",{className:"editExpenseModal__reports"},oe&&l.a.createElement("button",{className:"editExpenseModal__reports__upload",onClick:function(){return e.expense?document.getElementById(e.expense.expenseId).click():document.getElementById("image").click()}},l.a.createElement(G.a,{className:"upload"})," UPLOAD BILL / VOUCHER"),oe&&V.map((function(e,a){return l.a.createElement("div",{key:a,className:"bill"},l.a.createElement("button",{className:"bill__deleteButton trash",onClick:function(){var e=Object(N.a)(V);e.splice(a,1),z(e)}},l.a.createElement(k.a,{className:"headerCommon"})),l.a.createElement("img",{src:URL.createObjectURL(e),alt:"report"}))})),!oe&&e.expense.imageUrl.map((function(a,t){return l.a.createElement("div",{key:t,className:"bill"},1===e.expense.status&&l.a.createElement("button",{className:"bill__deleteButton trash",disabled:1===e.expense.imageUrl.length&&1===e.expense.receiptType,onClick:function(){xe(t),Me(!0)}},l.a.createElement(k.a,{className:"headerCommon"})),l.a.createElement("img",{src:a.signedUrl,alt:"report"}))}))))},X=function(e){var a=JSON.parse(localStorage.actions),t=Object(n.useState)(e.expense.expenseHead),s=Object(o.a)(t,2),c=s[0],r=s[1],p=Object(n.useState)(e.expense.paidTo),d=Object(o.a)(p,2),u=d[0],_=d[1],E=Object(n.useState)(e.expense.towards),b=Object(o.a)(E,2),x=b[0],f=b[1],N=Object(n.useState)(e.expense.issuedDate),h=Object(o.a)(N,2),v=h[0],y=h[1],S=Object(n.useState)(e.expense.amount),D=Object(o.a)(S,2),T=D[0],Y=D[1],A=Object(n.useState)(e.expense.paidBy),B=Object(o.a)(A,2),F=B[0],L=B[1],V=Object(n.useState)(e.expense.comments),z=Object(o.a)(V,2),J=z[0],W=z[1],K=Object(n.useState)([]),Q=Object(o.a)(K,2),G=Q[0],X=Q[1],$=Object(n.useState)(e.expense.billNumber),ee=Object(o.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)("2"===e.expense.forCA),le=Object(o.a)(ne,2),se=le[0],ce=le[1],re=Object(n.useState)(!1),oe=Object(o.a)(re,2),pe=oe[0],ie=oe[1],me=Object(n.useState)(!1),de=Object(o.a)(me,2),ue=de[0],_e=de[1],Ee=Object(n.useState)(""),be=Object(o.a)(Ee,2),xe=be[0],fe=be[1],Ne=Object(n.useState)(!1),he=Object(o.a)(Ne,2),ge=he[0],ve=he[1],je=Object(n.useState)(!1),ye=Object(o.a)(je,2),Oe=ye[0],Se=ye[1],ke=Object(n.useState)(!1),De=Object(o.a)(ke,2),Me=De[0],Ce=De[1],Te=Object(n.useState)(""),Ie=Object(o.a)(Te,2),Ye=Ie[0],we=Ie[1],Ae=Object(n.useState)(!1),Pe=Object(o.a)(Ae,2),Be=Pe[0],Ue=Pe[1],Fe=function(){Se(!1)},He=function(e){we(e),Ce(!0)},Le=function(){ie(!pe),pe||(r(e.expense.expenseHead),_(e.expense.paidTo),f(e.expense.towards),te(e.expense.billNumber),y(e.expense.issuedDate),Y(e.expense.amount),L(e.expense.paidBy),W(e.expense.comments),ce("2"===e.expense.forCA),X([]))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,{isOpen:Me,ariaHideApp:!1,contentLabel:"Modal",className:"confirm-modal"},l.a.createElement(q,{closeConfirmationModal:function(){Ce(!1),we("")},modalType:Ye,amount:e.expense.amount,yesClicked:"verify"===Ye||"approve"===Ye?ge:Be,yesClickFunction:"verify"===Ye||"approve"===Ye?function(){ge||(ve(!0),1===e.expense.status?i({method:"GET",url:"/approveExpense/".concat(e.expense.expenseId),headers:{accessToken:localStorage.accessToken}}).then((function(a){ve(!1),Ce(!1),we(""),m.NotificationManager.success("Successfulyy approved expense","Success",3e3),e.approveOrVerifyExpense(e.index)})).catch((function(e){ve(!1),m.NotificationManager.error("Unable to approve expense","Error",3e3)})):i({method:"GET",url:"/verifyExpense/".concat(e.expense.expenseId),headers:{accessToken:localStorage.accessToken}}).then((function(a){ve(!1),Ce(!1),we(""),m.NotificationManager.success("Successfulyy verified expense","Success",3e3),e.approveOrVerifyExpense(e.index)})).catch((function(e){ve(!1),m.NotificationManager.error("Unable to verify expense","Error",3e3)})))}:function(){Be||(Ue(!0),i({method:"DELETE",url:"/deleteExpense/".concat(e.expense.expenseId),headers:{accessToken:localStorage.accessToken}}).then((function(a){Ue(!1),Ce(!1),we(""),m.NotificationManager.success("Successfulyy deleted expense","Success",3e3),e.deleteExpense(e.index)})).catch((function(e){Ue(!1),m.NotificationManager.error("Unable to delete expense","Error",3e3)})))}})),l.a.createElement(O.a,{isOpen:pe,ariaHideApp:!1,contentLabel:"Modal",className:"edit-modal"},l.a.createElement(Z,{expense:e.expense,employees:e.employees,expenseHeadList:e.expenseHeadList,closeEditModal:function(){return ie(!1)},updateExpense:function(a){return e.updateExpense(e.index,a)},deleteReceipt:function(a){return e.deleteReceipt(e.index,a)}})),pe?l.a.createElement("div",{className:"cashExpense__table cashExpense__table--edit"},l.a.createElement("select",{value:c,className:"select capitalize cashExpense__table__select",onChange:function(e){return r(e.target.value)}},l.a.createElement("option",{value:""},"Select"),e.expenseHeadList.map((function(e,a){return l.a.createElement("option",{className:"capitalize",value:e,key:a},e)}))),l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Paid To*",value:u,onChange:function(e){_(e.target.value)}}),l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Towards*",value:x,onChange:function(e){f(e.target.value)}}),l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Bill Number*",value:ae,onChange:function(e){te(e.target.value)}}),l.a.createElement(g.a,{inputProps:{placeholder:"Issued Date*",className:"input cashExpense__table__input",readOnly:!0},isValidDate:function(e){return!e.isAfter(j.a.utc(new Date))},closeOnSelect:!0,closeOnTab:!0,value:v?new Date(j()(v,"DD-MM-YYYY")._d):"",onChange:function(e){y(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}),l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Amount*",value:T,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&(""===e.target.value?Y(e.target.value):parseInt(e.target.value)>1e4?Y(1e4):Y(parseInt(e.target.value)))}}),l.a.createElement("select",{className:"select",value:F,onChange:function(e){""===e.target.value?L(""):L(parseInt(e.target.value))}},l.a.createElement("option",{value:""},"Select"),l.a.createElement("option",{value:parseInt(localStorage.userId)},"Self"),e.employees.map((function(e,a){return e.userId!==parseInt(localStorage.userId)&&(("3"!==localStorage.roleId||3!==e.roleId&&5!==e.roleId)&&l.a.createElement("option",{className:"capitalize",key:a,value:e.userId},e.userName))}))),l.a.createElement("textarea",{className:"textarea cashExpense__table__textarea",value:J,onChange:function(e){""===e.target.value&&ce(!1),W(e.target.value)},maxLength:150,rows:2}),l.a.createElement("div",{className:"cashExpense__table__forAudit"},l.a.createElement(R,{checked:se,onChange:function(e){return ce(e.target.checked)},disabled:0===J.length})),l.a.createElement("div",{className:"cashExpense__table__iconStack"},l.a.createElement("button",{className:"cashExpense__table__icon",onClick:Le,title:"Cancel"},l.a.createElement(M.a,{className:"cancel"})),l.a.createElement("button",{className:"cashExpense__table__icon",onClick:function(){if(!ue){_e(!0),fe(!1);var a=!1;if(""===c?a=!0:""===u?a=!0:""===x?a=!0:""===v?a=!0:""===T?a=!0:""===ae||""===ae.trim()?a=!0:""===F&&(a=!0),a)fe(a),_e(!1);else{var t=new FormData;if(t.append("expenseId",e.expense.expenseId),t.append("expenseType","cash"),t.append("projectId",1),t.append("paidBy",F),t.append("billNumber",ae.trim()),t.append("expenseHead",c),t.append("issuedDate",v),t.append("amount",T),t.append("paidTo",u),t.append("receiptType",e.expense.receiptType),t.append("towards",x),t.append("comments",J),t.append("forCA",se?2:1),G.length>0)for(var n in G)t.append("receipts",G[n],G[n].name);else t.append("receipts",null);t.append("transactionId",null),t.append("transactionDate",null),i({method:"PUT",url:"/updateExpense",data:t,headers:{"Content-Type":"multipart/form-data",accessToken:localStorage.accessToken}}).then((function(t){console.log(t),_e(!1),ie(!1),fe(a),e.updateExpense(e.index,t.data.message)})).catch((function(e){_e(!1),fe(e)}))}}},disabled:ue,title:"Save"},l.a.createElement(U.a,{className:"save"})),l.a.createElement("button",{className:"cashExpense__table__icon",onClick:function(){document.getElementById(e.expense.expenseId).click()},title:"Upload"},l.a.createElement(H.a,{className:"upload"}))),xe&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"error"},""===c?"Please select a budget head":""),l.a.createElement("p",{className:"error"},""===u?"Paid to cannot be empty":""),l.a.createElement("p",{className:"error"},""===x?"Towards cannot be empty":""),l.a.createElement("p",{className:"error"},""===ae||""===ae.trim()?"Bill Number cannot be empty":""),l.a.createElement("p",{className:"error"},""===v?"Receipt date cannot be empty":""),l.a.createElement("p",{className:"error"},""===T?"Amount cannot be empty":""),l.a.createElement("p",{className:"error"},""===F?"Please select an employee":""))):l.a.createElement("div",{className:"cashExpense__table"},Oe&&l.a.createElement(O.a,{isOpen:Oe,onRequestClose:Fe,ariaHideApp:!1,contentLabel:"Example Modal"},l.a.createElement(C,{closeModal:Fe,expenseId:e.expense.expenseId,status:e.expense.status,deleteReceipt:function(a){return e.deleteReceipt(e.index,a)}})),l.a.createElement("p",{className:"capitalize"},e.expense.expenseHead),l.a.createElement("p",{className:""},e.expense.paidTo),l.a.createElement("p",{className:""},e.expense.towards),l.a.createElement("p",{className:""},e.expense.billNumber),l.a.createElement("p",{className:"capitalize"},e.employees.filter((function(a){return a.userId===e.expense.paidBy})).map((function(e,a){return e.userId===parseInt(localStorage.userId)?"Self":e.userName}))),l.a.createElement("p",{className:"money"},e.expense.issuedDate),l.a.createElement("p",{className:"money"},"\u20b9\xa0",e.expense.amount.toLocaleString("hi")),l.a.createElement("div",{className:"cashExpense__table__iconStack"},l.a.createElement("button",{className:"cashExpense__table__icon",onClick:Le,title:"Edit"},l.a.createElement(P.a,{className:"edit"})),a.deleteCashExpense&&1===e.expense.status?l.a.createElement("button",{className:"cashExpense__table__icon",disabled:Be,onClick:function(){return He("delete")},title:"Delete"},l.a.createElement(k.a,{className:"trash"})):"",1===a.verifyCashExpense&&2===e.expense.status&&l.a.createElement("button",{className:"cashExpense__table__icon",disabled:ge,onClick:function(){return He("verify")},title:"Verify"},l.a.createElement(w.a,{className:"verify"})),1===a.approveCashExpense&&1===e.expense.status&&l.a.createElement("button",{className:"cashExpense__table__icon",disabled:ge,onClick:function(){0===e.expense.imageUrl.length?m.NotificationManager.error("Please upload an image to approve the expense","Error",3e3):He("approve")},title:"Approve"},l.a.createElement(I.a,{className:"approve"})))))},$=t(377),ee=t(26),ae=t.n(ee);function te(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function ne(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?te(t,!0).forEach((function(a){Object(f.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):te(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var le=function(e){var a=Object(n.useState)([]),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(!0),p=Object(o.a)(r,2),d=p[0],u=p[1],_=Object(n.useState)([]),E=Object(o.a)(_,2),b=E[0],x=E[1],f=Object(n.useState)([]),h=Object(o.a)(f,2),g=h[0],v=h[1],y=Object(n.useState)("toBeApproved"),S=Object(o.a)(y,2),k=S[0],D=S[1],M=Object(n.useState)(!1),C=Object(o.a)(M,2),T=C[0],I=C[1];Object(n.useEffect)((function(){e.projectData.projects.length>0&&(i({method:"GET",url:"/getUsers",headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),x(e.data)})).catch((function(e){console.log(e)})),i({method:"GET",url:"/getExpensesByProject/".concat(e.projectData.projects[e.projectData.projectId].projectId),headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),c(e.data.message.sort((function(e,a){return new Date(j()(a.issuedDate,"DD-MM-YYYY")._d)-new Date(j()(e.issuedDate,"DD-MM-YYYY")._d)}))),u(!1)})).catch((function(e){console.log(e),m.NotificationManager.error("Something went wrong! Please try again"),u(!1)})),i({method:"GET",url:"/getExpenseHeadByProject/".concat(e.projectData.projects[e.projectData.projectId].projectId),headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),v(e.data),u(!1)})).catch((function(e){console.log(e),m.NotificationManager.error("Something went wrong! Please try again"),u(!1)})))}),[e.history,e.projectData.projects,e.projectData.projectId]);for(var Y=function(e,a){console.log(a);var t=Object(N.a)(s);t[e]=a,c(t)},w=function(e){var a=Object(N.a)(s),t=ne({},a[e]);1===t.status?t.status=2:2===t.status&&(t.status=3),a[e]=t,c(a)},A=function(e){var a=Object(N.a)(s);a.splice(e,1),c(a)},P=function(e,a){var t=Object(N.a)(s),n=ne({},t[e]),l=Object(N.a)(n.imageUrl);l.length>0&&l.splice(a,1),n.imageUrl=l,t[e]=n,c(t)},B=0,U=0;U<s.length;U++){if("approved"===k&&"cash"===s[U].expenseType&&2===s[U].status){B++;break}if("toBeApproved"===k&&"cash"===s[U].expenseType&&1===s[U].status){B++;break}if("verified"===k&&"cash"===s[U].expenseType&&3===s[U].status){B++;break}}return l.a.createElement("div",{className:"cashExpense"},l.a.createElement("div",{className:"cashExpense__header"},l.a.createElement("p",{onClick:function(){return D("toBeApproved")},className:"toBeApproved"===k?"cashExpense__header__element cashExpense__header__element--active":"cashExpense__header__element"},l.a.createElement("span",null,"Approval Pending"),l.a.createElement("input",{id:"displayToBeApproved",className:"radio",type:"radio",name:"display",value:"toBeApproved",checked:"toBeApproved"===k,onChange:function(){return D("toBeApproved")}})),l.a.createElement("p",{onClick:function(){return D("approved")},className:"approved"===k?"cashExpense__header__element cashExpense__header__element--active":"cashExpense__header__element"},"Bill Verification Pending",l.a.createElement("input",{className:"radio",id:"displayApproved",type:"radio",name:"display",value:"approved",checked:"approved"===k,onChange:function(){return D("approved")}})),l.a.createElement("p",{onClick:function(){return D("verified")},className:"verified"===k?"cashExpense__header__element cashExpense__header__element--active":"cashExpense__header__element"},"Verified Expenses",l.a.createElement("input",{className:"radio",id:"displayVerified",type:"radio",name:"display",value:"verified",checked:"verified"===k,onChange:function(){return D("verified")}}))),l.a.createElement("div",{className:"cashExpense__table"},l.a.createElement("p",{className:"cashExpense__table__header"},"Budget Head"),l.a.createElement("p",{className:"cashExpense__table__header"},"Paid To"),l.a.createElement("p",{className:"cashExpense__table__header"},"Towards"),l.a.createElement("p",{className:"cashExpense__table__header"},"Bill Number"),l.a.createElement("p",{className:"cashExpense__table__header"},"Paid By"),l.a.createElement("p",{className:"cashExpense__table__header money"},"Receipt Date"),l.a.createElement("p",{className:"cashExpense__table__header money"},"Amount"),l.a.createElement($.a,{className:"employees__table__header__newEmployee",startIcon:l.a.createElement(ae.a,{className:"headerCommon"}),onClick:function(){return I(!0)}},"ADD"),l.a.createElement("p",null)),d?l.a.createElement("p",{className:"fullContent"},"Loading ..."):B?s.map((function(e,a){return("approved"===k?"cash"===e.expenseType&&2===e.status:"verified"===k?"cash"===e.expenseType&&3===e.status:"cash"===e.expenseType&&1===e.status)&&l.a.createElement(X,{key:a,expense:e,index:a,updateExpense:Y,approveOrVerifyExpense:w,employees:b,expenseHeadList:g,deleteExpense:A,deleteReceipt:P})})):l.a.createElement("p",{className:"fullContent"},"No Expenses found"),l.a.createElement(O.a,{isOpen:T,ariaHideApp:!1,contentLabel:"Modal",className:"edit-modal"},l.a.createElement(Z,{edit:!0,expenseHeadList:g,employees:b,refreshExpenses:function(e){var a=[].concat(Object(N.a)(s),[e]);c(a)},closeEditModal:function(){return I(!1)}})))},se=function(e){for(var a=Object(n.useState)(e.expense.amount),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(e.expense.transactionId),p=Object(o.a)(r,2),d=p[0],u=p[1],_=Object(n.useState)(e.expense.transactionDate),E=Object(o.a)(_,2),b=E[0],x=E[1],f=Object(n.useState)(e.expense.comments),N=Object(o.a)(f,2),h=N[0],v=N[1],y=Object(n.useState)("2"===e.expense.forCA),O=Object(o.a)(y,2),S=O[0],k=O[1],D=Object(n.useState)(!1),M=Object(o.a)(D,2),C=M[0],T=M[1],I=Object(n.useState)(!1),Y=Object(o.a)(I,2),w=Y[0],A=Y[1],P=Object(n.useState)(!1),B=Object(o.a)(P,2),F=B[0],H=B[1],L=function(){A(!w),H(!1),w||(c(e.expense.amount),u(e.expense.transactionId),x(e.expense.transactionDate),v(e.expense.comments),k("2"===e.expense.forCA))},V="",z=0;z<e.employees.length;z++)if(e.employees[z].userId===parseInt(e.expense.paidTo)){V=e.employees[z].userName;break}return l.a.createElement("div",{className:"editSalaryExpenseModal"},l.a.createElement("label",{className:w?"editSalaryExpenseModal__label--edit":"editSalaryExpenseModal__label"},"Employee Name"),l.a.createElement("label",{className:w?"editSalaryExpenseModal__label capitalize":"editSalaryExpenseModal__label--edit capitalize"},V),l.a.createElement("label",{className:w?"editSalaryExpenseModal__label--edit":"editSalaryExpenseModal__label"},"Salary"),w?l.a.createElement("input",{className:"input salaryExpense__table__input",type:"text",placeholder:"Salary*",value:s,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&(""===e.target.value?c(e.target.value):c(parseInt(e.target.value)))}}):l.a.createElement("p",{className:"editSalaryExpenseModal__label--edit money"},"\u20b9\xa0",e.expense.amount.toLocaleString("hi")),w&&F&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===s?"Salary cannot be empty":"")),l.a.createElement("label",{className:w?"editSalaryExpenseModal__label--edit":"editSalaryExpenseModal__label"},"Transaction Number"),w?l.a.createElement("input",{className:"input salaryExpense__table__input",type:"text",placeholder:"Transaction Number*",value:d,onChange:function(e){u(e.target.value.toUpperCase())}}):l.a.createElement("p",{className:"editSalaryExpenseModal__label--edit"},e.expense.transactionId),w&&F&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===d?"Transaction number cannot be empty":"")),l.a.createElement("label",{className:w?"editSalaryExpenseModal__label--edit":"editSalaryExpenseModal__label"},"Transaction Date"),w?l.a.createElement(g.a,{inputProps:{placeholder:"Transaction Date*",className:"input salaryExpense__table__input",readOnly:!0},isValidDate:function(e){return!e.isAfter(j.a.utc(new Date))},closeOnSelect:!0,closeOnTab:!0,value:b?new Date(j()(b,"DD-MM-YYYY")._d):"",onChange:function(e){x(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}):l.a.createElement("p",{className:"editSalaryExpenseModal__label--edit money"},e.expense.transactionDate),w&&F&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===b?"Please select a date":"")),l.a.createElement("label",{className:w?"editSalaryExpenseModal__label--edit":"editSalaryExpenseModal__label"},"Comment"),w?l.a.createElement("textarea",{className:"textarea salaryExpense__table__textarea",value:h,onChange:function(e){""===e.target.value&&k(!1),v(e.target.value)},maxLength:150,rows:2}):l.a.createElement("p",{className:"editSalaryExpenseModal__label--edit"},e.expense.comments),l.a.createElement("label",{className:w?"editSalaryExpenseModal__label--edit":"editSalaryExpenseModal__label"},"For Auditor"),w?l.a.createElement("label",{className:"checkbox"},l.a.createElement(R,{checked:S,onChange:function(e){return k(e.target.checked)},disabled:0===h.length})):l.a.createElement("p",{className:"editSalaryExpenseModal__label--edit"},"2"===e.expense.forCA?"Yes":"No"),l.a.createElement("div",{className:"editSalaryExpenseModal__buttonStack"},l.a.createElement("button",{className:"editSalaryExpenseModal__save",onClick:w?function(){if(!C){T(!0),H(!1);var a=!1;if(""===s?a=!0:""===d?a=!0:""===b&&(a=!0),a)T(!1),H(a);else{var t=new FormData;t.append("expenseId",e.expense.expenseId),t.append("projectId",localStorage.projectId),t.append("paidBy",parseInt(localStorage.userId)),t.append("expenseHead","salary"),t.append("expenseType","salary"),t.append("issuedDate",b),t.append("amount",s),t.append("paidTo",parseInt(e.expense.paidTo)),t.append("receiptType",1),t.append("towards",""),t.append("comments",h),t.append("receipts",null),t.append("transactionId",d),t.append("transactionDate",b),t.append("forCA",S?2:1),i({method:"PUT",url:"/updateExpense",data:t,headers:{accessToken:localStorage.accessToken}}).then((function(a){console.log(a),T(!1),m.NotificationManager.success("Successfully added expense","Success",3e3),A(!1),e.updateExpense(a.data.message),e.closeEditModal()})).catch((function(e){T(!1),m.NotificationManager.error("Something went wrong! Please try again","Error",3e3)}))}}}:L,disabled:C},w?l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,{className:"editSalaryExpenseModal__save--icon"})," ","SAVE"):l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{className:"editSalaryExpenseModal__save--icon"})," ","EDIT"," ")),l.a.createElement("button",{className:"editSalaryExpenseModal__cancel",onClick:w?L:e.closeEditModal},"CANCEL")))},ce=function(e){var a=JSON.parse(localStorage.actions),t=Object(n.useState)(!0),s=Object(o.a)(t,2),c=s[0],r=s[1],p=Object(n.useState)([]),d=Object(o.a)(p,2),u=d[0],_=d[1],E=Object(n.useState)([]),b=Object(o.a)(E,2),x=b[0],f=b[1],h=Object(n.useState)(!1),v=Object(o.a)(h,2),y=v[0],O=v[1],S=Object(n.useState)(""),k=Object(o.a)(S,2),D=k[0],C=k[1],T=Object(n.useState)(""),I=Object(o.a)(T,2),Y=I[0],w=I[1],A=Object(n.useState)(""),P=Object(o.a)(A,2),B=P[0],F=P[1],H=Object(n.useState)(""),L=Object(o.a)(H,2),V=L[0],z=L[1],J=Object(n.useState)(""),q=Object(o.a)(J,2),W=q[0],K=q[1],Q=Object(n.useState)(!1),G=Object(o.a)(Q,2),Z=G[0],X=G[1],ee=Object(n.useState)(!1),te=Object(o.a)(ee,2),ne=te[0],le=te[1],se=Object(n.useState)(!1),ce=Object(o.a)(se,2),oe=ce[0],pe=ce[1],ie=Object(n.useState)("toBeVerified"),me=Object(o.a)(ie,2),de=me[0],ue=me[1];Object(n.useEffect)((function(){e.projectData.projects.length>0&&(i({method:"GET",url:"/getUsers",headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),_(e.data)})).catch((function(e){console.log(e)})),i({method:"GET",url:"/getExpensesByProject/".concat(e.projectData.projects[e.projectData.projectId].projectId),headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),r(!1),f(e.data.message.sort((function(e,a){return new Date(j()(a.issuedDate,"DD-MM-YYYY")._d)-new Date(j()(e.issuedDate,"DD-MM-YYYY")._d)}))),localStorage.accessToken=e.data.accessToken})).catch((function(e){console.log(e),r(!1)})))}),[e.projectData.projects,e.projectData.projectId]);for(var _e=function(e,a){var t=Object(N.a)(x);t[e]=a,f(t)},Ee=function(e){var a=Object(N.a)(x);a.splice(e,1),f(a)},be=function(e){var a=Object(N.a)(x),t=a[e];t.status=3,a[e]=t,f(a)},xe=0,fe=0;fe<x.length;fe++){if("toBeVerified"===de&&"salary"===x[fe].expenseType&&1===x[fe].status){xe++;break}if("verified"===de&&"salary"===x[fe].expenseType&&3===x[fe].status){xe++;break}}return l.a.createElement("div",{className:"salaryExpense"},l.a.createElement("div",{className:"salaryExpense__header"},l.a.createElement("p",{onClick:function(){return ue("toBeVerified")},className:"toBeVerified"===de?"salaryExpense__header__element salaryExpense__header__element--active":"salaryExpense__header__element"},l.a.createElement("span",null," Verification Pending"),l.a.createElement("input",{id:"displayToBeVerified",className:"radio",type:"radio",name:"display",value:"toBeVerified",checked:"toBeVerified"===de,onChange:function(){return ue("toBeVerified")}})),l.a.createElement("p",{onClick:function(){return ue("verified")},className:"toBeVerified"!==de?"salaryExpense__header__element salaryExpense__header__element--active":"salaryExpense__header__element"},"Verified Expenses",l.a.createElement("input",{className:"radio",id:"displayVerified",type:"radio",name:"display",value:"verified",checked:"verified"===de,onChange:function(){return ue("verified")}})))," ",l.a.createElement("div",{className:"salaryExpense__table"},l.a.createElement("p",{className:"salaryExpense__table__header"},"Employee Name"),l.a.createElement("p",{className:"salaryExpense__table__header money"},"Salary"),l.a.createElement("p",{className:"salaryExpense__table__header"},"Transaction Number"),l.a.createElement("p",{className:"salaryExpense__table__header money"},"Transaction Date"),l.a.createElement("p",{className:"salaryExpense__table__header"},"Comment"),l.a.createElement("p",{className:"salaryExpense__table__header"},"For Auditor"),a.addSalaryExpense&&"toBeVerified"===de?l.a.createElement($.a,{className:"salaryExpense__table__header__newExpense",startIcon:l.a.createElement(ae.a,{className:"headerCommon"}),onClick:function(){return O(!0)}},"NEW EXPENSE"):l.a.createElement("p",null)),y&&"toBeVerified"===de&&l.a.createElement("div",{className:"salaryExpense__table salaryExpense__table--edit"},l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("select",{className:"select",value:D,onChange:function(e){""===e.target.value?C(""):C(parseInt(e.target.value))}},l.a.createElement("option",{value:""},"Select"),u.map((function(e,a){return l.a.createElement("option",{className:"capitalize",key:a,value:e.userId},e.userName)})))),l.a.createElement("input",{className:"input salaryExpense__table__input",type:"text",placeholder:"Salary*",value:Y,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&(""===e.target.value?w(e.target.value):w(parseInt(e.target.value)))}}),l.a.createElement("input",{className:"input salaryExpense__table__input",type:"text",placeholder:"Transaction Number*",value:B,onChange:function(e){F(e.target.value.toUpperCase())}}),l.a.createElement(g.a,{inputProps:{placeholder:"Transaction Date*",className:"input salaryExpense__table__input",readOnly:!0},isValidDate:function(e){return!e.isAfter(j.a.utc(new Date))},closeOnSelect:!0,closeOnTab:!0,value:V?new Date(j()(V,"DD-MM-YYYY")._d):"",onChange:function(e){z(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}),l.a.createElement("textarea",{className:"textarea salaryExpense__table__textarea",value:W,onChange:function(e){""===e.target.value&&X(!1),K(e.target.value)},maxLength:150,rows:2}),l.a.createElement("label",{className:"checkbox"},l.a.createElement(R,{checked:Z,onChange:function(e){return X(e.target.checked)},disabled:0===W.length})),l.a.createElement("div",{className:"salaryExpense__table__iconStack"},l.a.createElement("button",{className:"salaryExpense__table__icon salaryExpense__table__buttons__cancel",onClick:function(){O(!1),C(""),w(""),F(""),z(""),K(""),X(""),pe(!1)},title:"Cancel"},l.a.createElement(M.a,{className:"cancel"})),l.a.createElement("button",{className:"salaryExpense__table__icon salaryExpense__table__buttons__update",onClick:function(){if(!ne){le(!0),pe(!1);var e=!1;if(""===D?e=!0:""===Y?e=!0:""===B?e=!0:""===V&&(e=!0),e)le(!1),pe(e);else{var a=new FormData;a.append("projectId",localStorage.projectId),a.append("paidBy",parseInt(localStorage.userId)),a.append("expenseHead","salary"),a.append("expenseType","salary"),a.append("issuedDate",V),a.append("amount",Y),a.append("paidTo",D),a.append("receiptType",1),a.append("towards",""),a.append("comments",W),a.append("receipts",null),a.append("transactionId",B),a.append("transactionDate",V),a.append("forCA",Z?2:1),i({method:"POST",url:"/reportExpense",data:a,headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),localStorage.accessToken=e.data.accessToken,le(!1),C(""),w(""),F(""),z(""),K(""),X(!1),m.NotificationManager.success("Successfully added expense","Success",3e3),f([].concat(Object(N.a)(x),[e.data.message])),O(!1)})).catch((function(e){le(!1),m.NotificationManager.error("Something went wrong! Please try again","Error",3e3)}))}}},disabled:ne,title:"Save"},l.a.createElement(U.a,{className:"save"}))),oe&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"error"},""===D?"Please select an employee":""),l.a.createElement("p",{className:"error"},""===Y?"Salary cannot be empty":""),l.a.createElement("p",{className:"error"},""===B?"Transaction number cannot be empty":""),l.a.createElement("p",{className:"error"},""===V?"Transaction date cannot be empty":""))),c?l.a.createElement("p",{className:"fullContent"},"Loading ..."):xe?x.map((function(e,t){return("toBeVerified"===de&&"salary"===e.expenseType&&1===e.status||"verified"===de&&"salary"===e.expenseType&&3===e.status)&&l.a.createElement(re,{key:t,index:t,expense:e,employees:u,updateExpense:_e,deleteExpense:Ee,verifyExpense:be,actions:a})})):l.a.createElement("p",{className:"fullContent"},"No Expenses found"))},re=function(e){for(var a=Object(n.useState)(e.expense.amount),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(e.expense.transactionId),p=Object(o.a)(r,2),d=p[0],u=p[1],_=Object(n.useState)(e.expense.transactionDate),E=Object(o.a)(_,2),b=E[0],x=E[1],f=Object(n.useState)(e.expense.comments),N=Object(o.a)(f,2),h=N[0],v=N[1],y=Object(n.useState)("2"===e.expense.forCA),S=Object(o.a)(y,2),D=S[0],C=S[1],T=Object(n.useState)(!1),I=Object(o.a)(T,2),Y=I[0],A=I[1],P=Object(n.useState)(!1),B=Object(o.a)(P,2),F=B[0],H=B[1],L=Object(n.useState)(!1),V=Object(o.a)(L,2),z=V[0],J=V[1],W=Object(n.useState)(!1),Q=Object(o.a)(W,2),G=Q[0],Z=Q[1],X=Object(n.useState)(!1),$=Object(o.a)(X,2),ee=$[0],ae=$[1],te=Object(n.useState)(!1),ne=Object(o.a)(te,2),le=ne[0],ce=ne[1],re=Object(n.useState)(""),oe=Object(o.a)(re,2),pe=oe[0],ie=oe[1],me=function(e){ie(e),ce(!0)},de="",ue=0;ue<e.employees.length;ue++)if(e.employees[ue].userId===parseInt(e.expense.paidTo)){de=e.employees[ue].userName;break}return l.a.createElement("div",{className:G?"salaryExpense__table salaryExpense__table--edit":"salaryExpense__table"},l.a.createElement(O.a,{isOpen:le,ariaHideApp:!1,contentLabel:"Modal",className:"confirm-modal"},l.a.createElement(q,{closeConfirmationModal:function(){ce(!1),ie("")},modalType:pe,amount:e.expense.amount,yesClicked:"verify"===pe?z:F,yesClickFunction:"verify"===pe?function(){z||(J(!0),i({method:"GET",url:"/verifyExpense/".concat(e.expense.expenseId),headers:{accessToken:localStorage.accessToken}}).then((function(a){console.log(a),m.NotificationManager.success("Successfully verified expense","Success",3e3),e.verifyExpense(e.index),J(!1)})).catch((function(e){console.log(e),m.NotificationManager.error("Unable to verify expense","Error",3e3),J(!1)})))}:function(){F||(H(!0),i({method:"DELETE",url:"/deleteExpense/".concat(e.expense.expenseId),headers:{accessToken:localStorage.accessToken}}).then((function(a){H(!1),m.NotificationManager.success("Successfulyy deleted expense","Success",3e3),e.deleteExpense(e.index)})).catch((function(e){H(!1),m.NotificationManager.error("Unable to delete expense","Error",3e3)})))}})),l.a.createElement(O.a,{isOpen:G,ariaHideApp:!1,contentLabel:"Modal",className:"edit-modal edit-modal--salary"},l.a.createElement(se,{expense:e.expense,employees:e.employees,expenseHeadList:e.expenseHeadList,closeEditModal:function(){return Z(!1)},updateExpense:function(a){return e.updateExpense(e.index,a)},actions:e.actions})),l.a.createElement("p",{className:"capitalize"},de),G?l.a.createElement("input",{className:"input salaryExpense__table__input",type:"text",placeholder:"Salary*",value:s,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&(""===e.target.value?c(e.target.value):c(parseInt(e.target.value)))}}):l.a.createElement("p",{className:"money"},"\u20b9\xa0",e.expense.amount.toLocaleString("hi")),G?l.a.createElement("input",{className:"input salaryExpense__table__input",type:"text",placeholder:"Transaction Number*",value:d,onChange:function(e){u(e.target.value.toUpperCase())}}):l.a.createElement("p",null,e.expense.transactionId),G?l.a.createElement(g.a,{inputProps:{placeholder:"Transaction Date*",className:"input salaryExpense__table__input",readOnly:!0},isValidDate:function(e){return!e.isAfter(j.a.utc(new Date))},closeOnSelect:!0,closeOnTab:!0,value:b?new Date(j()(b,"DD-MM-YYYY")._d):"",onChange:function(e){x(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}):l.a.createElement("p",{className:"money"},e.expense.transactionDate),G?l.a.createElement("textarea",{className:"textarea salaryExpense__table__textarea",value:h,onChange:function(e){""===e.target.value&&C(!1),v(e.target.value)},maxLength:150,rows:2}):l.a.createElement("p",null,e.expense.comments),G?l.a.createElement("label",{className:"checkbox"},l.a.createElement(R,{checked:D,onChange:function(e){return C(e.target.checked)},disabled:0===h.length})):l.a.createElement("p",null,"2"===e.expense.forCA?"Yes":"No"),l.a.createElement("div",{className:"salaryExpense__table__iconStack"},!G&&1===e.actions.verifySalaryExpense&&1===e.expense.status&&l.a.createElement("button",{className:"salaryExpense__table__icon",disabled:z,onClick:function(){return me("verify")},title:"Verify"},l.a.createElement(w.a,{className:"verify"})),1===e.actions.editSalaryExpense&&1===e.expense.status&&l.a.createElement("button",{className:G?"salaryExpense__table__icon salaryExpense__table__buttons__cancel":"salaryExpense__table__icon salaryExpense__table__buttons__edit",onClick:function(){Z(!G),G||(c(e.expense.amount),u(e.expense.transactionId),x(e.expense.transactionDate),v(e.expense.comments),C("2"===e.expense.forCA))},title:G?"Cancel":"Edit"},G?l.a.createElement(M.a,{className:"cancel"}):l.a.createElement(K.a,{className:"edit"})),1===e.expense.status&&(1===e.actions.deleteSalaryExpense||G)&&l.a.createElement("button",{className:G?"salaryExpense__table__icon salaryExpense__table__buttons__update":"salaryExpense__table__icon salaryExpense__table__buttons__delete",onClick:G?function(){if(!Y){A(!0),ae(!1);var a=!1;if(""===s?a=!0:""===d?a=!0:""===b&&(a=!0),a)A(!1),ae(a);else{var t=new FormData;t.append("expenseId",e.expense.expenseId),t.append("projectId",localStorage.projectId),t.append("paidBy",parseInt(localStorage.userId)),t.append("expenseHead","salary"),t.append("expenseType","salary"),t.append("issuedDate",b),t.append("amount",s),t.append("paidTo",parseInt(e.expense.paidTo)),t.append("receiptType",1),t.append("towards",""),t.append("comments",h),t.append("receipts",null),t.append("transactionId",d),t.append("transactionDate",b),t.append("forCA",D?2:1),i({method:"PUT",url:"/updateExpense",data:t,headers:{accessToken:localStorage.accessToken}}).then((function(a){console.log(a),A(!1),m.NotificationManager.success("Successfully added expense","Success",3e3),Z(!1),e.updateExpense(e.index,a.data.message)})).catch((function(e){A(!1),m.NotificationManager.error("Something went wrong! Please try again","Error",3e3)}))}}}:function(){return me("delete")},disabled:G?Y:F,title:G?"Save":"Delete"},G?l.a.createElement(U.a,{className:"save"}):l.a.createElement(k.a,{className:"trash"}))),ee&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===s?"Salary cannot be empty":""),l.a.createElement("p",{className:"error"},""===d?"Transaction number cannot be empty":""),l.a.createElement("p",{className:"error"},""===b?"Transaction date cannot be empty":"")))},oe=function(e){var a=Object(n.useState)(e.expense?e.expense.expenseHead:""),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(e.expense?e.expense.paidTo:""),p=Object(o.a)(r,2),d=p[0],u=p[1],_=Object(n.useState)(e.expense?e.expense.towards:""),E=Object(o.a)(_,2),b=E[0],x=E[1],f=Object(n.useState)(e.expense?e.expense.issuedDate:""),h=Object(o.a)(f,2),v=h[0],y=h[1],S=Object(n.useState)(e.expense?e.expense.amount:""),D=Object(o.a)(S,2),M=D[0],C=D[1],T=Object(n.useState)(e.expense?e.expense.comments:""),I=Object(o.a)(T,2),Y=I[0],w=I[1],A=Object(n.useState)([]),P=Object(o.a)(A,2),B=P[0],F=P[1],H=Object(n.useState)(e.expense?e.expense.billNumber:""),L=Object(o.a)(H,2),V=L[0],z=L[1],J=Object(n.useState)(!!e.expense&&"2"===e.expense.forCA),W=Object(o.a)(J,2),Q=W[0],Z=W[1],X=Object(n.useState)(e.expense?e.expense.vendorAccountName:""),$=Object(o.a)(X,2),ee=$[0],ae=$[1],te=Object(n.useState)(e.expense?e.expense.vendorBank:""),ne=Object(o.a)(te,2),le=ne[0],se=ne[1],ce=Object(n.useState)(e.expense?e.expense.vendorAccountNumber:""),re=Object(o.a)(ce,2),oe=re[0],pe=re[1],ie=Object(n.useState)(e.expense?e.expense.vendorAccountIfsc:""),me=Object(o.a)(ie,2),de=me[0],ue=me[1],_e=Object(n.useState)(e.expense?e.expense.vendorAccountBranch:""),Ee=Object(o.a)(_e,2),be=Ee[0],xe=Ee[1],fe=Object(n.useState)(e.expense&&e.expense.transactionId?e.expense.transactionId:""),Ne=Object(o.a)(fe,2),he=Ne[0],ge=Ne[1],ve=Object(n.useState)(e.expense&&e.expense.transactionDate?e.expense.transactionDate:""),je=Object(o.a)(ve,2),ye=je[0],Oe=je[1],Se=Object(n.useState)(!!e.edit),ke=Object(o.a)(Se,2),De=ke[0],Me=ke[1],Ce=Object(n.useState)(""),Te=Object(o.a)(Ce,2),Ie=Te[0],Ye=Te[1],we=Object(n.useState)(""),Ae=Object(o.a)(we,2),Pe=Ae[0],Be=Ae[1],Ue=Object(n.useState)(!1),Fe=Object(o.a)(Ue,2),He=Fe[0],Le=Fe[1],Ve=Object(n.useState)(!1),Re=Object(o.a)(Ve,2),ze=Re[0],Je=Re[1],qe=Object(n.useState)(!1),We=Object(o.a)(qe,2),Ke=We[0],Qe=We[1],Ge=function(){Me(!De),Ye(!1),De||(c(e.expense.expenseHead),u(e.expense.paidTo),x(e.expense.towards),y(e.expense.issuedDate),C(e.expense.amount),ae(e.expense.vendorAccountName),se(e.expense.vendorBank),pe(e.expense.vendorAccountNumber),ue(e.expense.vendorAccountIfsc),xe(e.expense.vendorAccountBranch),w(e.expense.comments),ge(e.expense.transactionId?e.expense.transactionId:""),Oe(e.expense.transactionDate?e.expense.transactionDate:""),z(e.expense.billNumber),Z("2"===e.expense.forCA),F([]))};return l.a.createElement("div",{className:"editExpenseModal editExpenseModal--bank"},l.a.createElement(O.a,{isOpen:Ke,ariaHideApp:!1,contentLabel:"Modal",className:"confirm-modal"},l.a.createElement(q,{closeConfirmationModal:function(){return Qe(!1)},modalType:"deleteImage",yesClicked:ze,yesClickFunction:function(){ze||(Je(!0),i({method:"DELETE",url:"/deleteReceipt/".concat(e.expense.expenseId),headers:{accessToken:localStorage.accessToken,imageUrl:e.expense.imageUrl[Pe].unsignedUrl}}).then((function(a){console.log(a),e.deleteReceipt(Pe),Be(""),Je(!1),Qe(!1)})).catch((function(e){console.log(e),Object(m.NotificationManager)("Unable to delete Receipt","Error",3e3)})))}})),l.a.createElement("div",{className:"editExpenseModal__data editExpenseModal__data--bank"},De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Expense Head"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Expense Head"),De?l.a.createElement("select",{value:s,className:"select capitalize",onChange:function(e){return c(e.target.value)}},l.a.createElement("option",{value:""},"Select"),e.expenseHeadList.map((function(e,a){return l.a.createElement("option",{className:"capitalize",value:e,key:a},e)}))):l.a.createElement("span",{className:"editExpenseModal__data__label--edit capitalize"},e.expense.expenseHead),De&&Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===s?"Please select an expense head":"")),De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Paid To"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Paid To"),De?l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Paid To*",value:d,onChange:function(e){u(e.target.value)}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.paidTo),De&&Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===d?"Paid to cannot be empty":"")),De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Towards"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Towards"),De?l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Towards*",value:b,onChange:function(e){x(e.target.value)}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.towards),De&&Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===b?"Towards cannot be empty":"")),De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Receipt Date"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Receipt Date"),De?l.a.createElement(g.a,{inputProps:{placeholder:"Issued Date*",className:"input cashExpense__table__input",readOnly:!0},closeOnSelect:!0,closeOnTab:!0,isValidDate:function(e){return!e.isAfter(j.a.utc(new Date))},value:v?new Date(j()(v,"DD-MM-YYYY")._d):"",onChange:function(e){y(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.issuedDate),De&&Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===v?"Please select a date":"")),De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Amount"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Amount"),De?l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Amount*",value:M,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&(""===e.target.value?C(e.target.value):parseInt(e.target.value)>1e4?C(1e4):C(parseInt(e.target.value)))}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.amount),De&&Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===M?"Amount cannot be empty":"")),De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Bill Number"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Bill Number"),De?l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Bill Number*",value:V,onChange:function(e){z(e.target.value)}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.billNumber),De&&Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===V||""===V.trim()?"Bill number cannot be empty":"")),De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Vendor Name"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Vendor Name"),De?l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Vendor Name*",value:ee,onChange:function(e){ae(e.target.value)}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.vendorAccountName),De&&Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===ee?"Vendor name cannot be empty":"")),De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Vendor Bank"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Vendor Bank"),De?l.a.createElement("input",{type:"text",className:"input",value:le,placeholder:"Vendor Bank*",onChange:function(e){return se(e.target.value)}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.vendorBank),De&&Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===le?"Vendor bank cannot be empty":"")),De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Vendor Account Number"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Vendor Account Number"),De?l.a.createElement("input",{type:"text",className:"input",value:oe,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&pe(e.target.value)}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.vendorAccountNumber),De&&Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===oe?"Vendor account number cannot be empty":"")),De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Vendor Account IFSC"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Vendor Account IFSC"),De?l.a.createElement("input",{type:"text",className:"input",value:de,onChange:function(e){/^[0-9a-zA-Z]*$/.test(e.target.value)&&ue(e.target.value.toUpperCase())}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.vendorAccountIfsc),De&&Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===de?"Vendor Account IFSC cannot be empty":"")),De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Vendor Account Branch"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Vendor Account Branch"),De?l.a.createElement("input",{type:"text",className:"input",value:be,onChange:function(e){return xe(e.target.value)}}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.vendorAccountBranch),De&&Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===be?"Vendor Account Branch cannot be empty":"")),e.actions.verifyBankExpense&&2===e.expense.status?l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:"bankExpense__card__label"},"Transaction Number"),De?l.a.createElement("input",{type:"text",className:"input",value:he,onChange:function(e){ge(e.target.value.toUpperCase())}}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.transactionId),l.a.createElement("label",{className:"bankExpense__card__label"},"Transaction Date"),De?l.a.createElement(g.a,{inputProps:{placeholder:"Transaction Date*",className:"input",readOnly:!0},isValidDate:function(e){return!e.isAfter(j.a.utc(new Date))},closeOnSelect:!0,closeOnTab:!0,value:ye?new Date(j()(ye,"DD-MM-YYYY")._d):"",onChange:function(e){Oe(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.transactionDate),Ie&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===he?"Transaction Number cannot be empty":""),l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===ye?"Transaction Date cannot be empty":""))):"",De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Comment"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"Comment"),De?l.a.createElement("textarea",{className:"textarea cashExpense__table__textarea",value:Y,onChange:function(e){""===e.target.value&&Z(!1),w(e.target.value)},maxLength:150,rows:2}):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},e.expense.comments),De?l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"For Auditor"):l.a.createElement("label",{className:"editExpenseModal__data__label"},"For Auditor"),De?l.a.createElement("div",{className:"cashExpense__table__forAudit"},l.a.createElement(R,{checked:Q,onChange:function(e){return Z(e.target.checked)},disabled:0===Y.length})):l.a.createElement("span",{className:"editExpenseModal__data__label--edit"},"2"===e.expense.forCA?"Yes":"No"),l.a.createElement("div",{className:"editExpenseModal__data__buttonStack"},l.a.createElement("input",{type:"file",style:{display:"none"},id:e.expense?e.expense.expenseId:"image",accept:"image/*",onChange:function(a){var t=e.expense?document.getElementById(e.expense.expenseId).files:document.getElementById("image").files,n=[];if(t.length>0)for(var l=0;l<t.length;l++){if(0!==t[l].type.indexOf("image/")){m.NotificationManager.error("Please upload image files only","Error",3e3),n=[];break}n.push(t[l])}else n=[];F(n),console.log(n),e.expense?document.getElementById(e.expense.expenseId).value="":document.getElementById("image").value=""},multiple:!0}),l.a.createElement("button",{className:"editExpenseModal__data__save",onClick:De?function(){if(!He){Le(!0),Ye(!1);var a=!1,t=new FormData;if(t.append("expenseId",e.expense?e.expense.expenseId:""),t.append("expenseType","bank"),t.append("projectId",localStorage.projectId),t.append("paidBy",e.expense?e.expense.paidBy:localStorage.userId),t.append("billNumber",V.trim()),t.append("expenseHead",s),t.append("issuedDate",v),t.append("amount",M),t.append("paidTo",d),t.append("receiptType",1),t.append("towards",b),t.append("comments",Y),t.append("vendorAccountName",ee),t.append("vendorBank",le),t.append("vendorAccountNumber",oe),t.append("vendorAccountIfsc",de),t.append("vendorAccountBranch",be),t.append("forCA",Q?2:1),B.length>0)for(var n in B)t.append("receipts",B[n],B[n].name);else t.append("receipts",null);""===s&&(a=!0),""===v?a=!0:""===M?a=!0:""===d?a=!0:""===b?a=!0:""!==V&&""!==V.trim()||(a=!0),t.append("transactionId",null),t.append("transactionDate",""),e.expense&&(""===ee?a=!0:""===le?a=!0:""===oe?a=!0:""===de?a=!0:""===be&&(a=!0)),e.expense&&2===e.expense.status&&(console.log(he,ye),""===he?a=!0:""===ye&&(a=!0),t.append("transactionId",he),t.append("transactionDate",ye)),a?(Ye(a),Le(!1)):e.expense?i({method:"PUT",url:"/updateExpense",headers:{accessToken:localStorage.accessToken},data:t}).then((function(a){console.log(a),Le(!1),m.NotificationManager.success("Successfully updated expense","Success",3e3),Me(!1),e.updateExpense(a.data.message),e.closeEditModal()})).catch((function(e){console.log(e),Le(!1),m.NotificationManager.error("Unable to update expense","Error",3e3)})):i({method:"POST",url:"/reportExpense",data:t,headers:{"Content-Type":"multipart/form-data",accessToken:localStorage.accessToken}}).then((function(t){console.log(t),Le(!1),Ye(a),e.refreshExpenses(t.data.message),e.closeEditModal()})).catch((function(e){Le(!1),m.NotificationManager.error("Unable to add the expense","Error",3e3),Ye(e)}))}}:Ge,disabled:e.expense?He||3===e.expense.status||2===e.expense.status&&1!==e.actions.verifyBankExpense:He},De?l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,{className:"editExpenseModal__data__save--icon"})," ","SAVE"):l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{className:"editExpenseModal__data__save--icon"})," ","EDIT"," ")),l.a.createElement("button",{className:"editExpenseModal__data__cancel",onClick:De&&e.expense?Ge:e.closeEditModal},"CANCEL"))),l.a.createElement("div",{className:"editExpenseModal__reports"},De&&e.expense?1===e.expense.status&&l.a.createElement("button",{className:"editExpenseModal__reports__upload",onClick:function(){return e.expense?document.getElementById(e.expense.expenseId).click():document.getElementById("image").click()}},l.a.createElement(G.a,{className:"upload"})," UPLOAD BILL / VOUCHER"):l.a.createElement("button",{className:"editExpenseModal__reports__upload",onClick:function(){return e.expense?document.getElementById(e.expense.expenseId).click():document.getElementById("image").click()}},l.a.createElement(G.a,{className:"upload"})," UPLOAD BILL / VOUCHER"),De&&e.expense?1===e.expense.status&&B.map((function(a,t){return l.a.createElement("div",{key:t,className:"bill"},console.log(1===e.expense.imageUrl.length&&1===e.expense.receiptType),1===e.expense.status&&l.a.createElement("button",{className:"modal__report__button",onClick:function(){var e=Object(N.a)(B);e.splice(t,1),F(e)}},l.a.createElement(k.a,{className:"trash"})),l.a.createElement("img",{src:URL.createObjectURL(a),alt:"report"}))})):B.map((function(e,a){return l.a.createElement("div",{key:a,className:"bill"},l.a.createElement("button",{className:"modal__report__button",onClick:function(){var e=Object(N.a)(B);e.splice(a,1),F(e)}},l.a.createElement(k.a,{className:"trash"})),l.a.createElement("img",{src:URL.createObjectURL(e),alt:"report"}))})),(!De||e.expense&&1!==e.expense.status)&&e.expense.imageUrl.map((function(a,t){return l.a.createElement("div",{key:t,className:"bill"},console.log(1===e.expense.imageUrl.length&&1===e.expense.receiptType),1===e.expense.status&&l.a.createElement("button",{className:"modal__report__button",disabled:1===e.expense.imageUrl.length&&1===e.expense.receiptType,onClick:function(){Be(t),Qe(!0)}},l.a.createElement(k.a,{className:"trash"})),l.a.createElement("img",{src:a.signedUrl,alt:"report"}))}))))},pe=function(e){var a=JSON.parse(localStorage.actions),t=Object(n.useState)(e.expense.expenseHead),s=Object(o.a)(t,2),c=s[0],r=s[1],p=Object(n.useState)(e.expense.paidTo),d=Object(o.a)(p,2),u=d[0],_=d[1],E=Object(n.useState)(e.expense.towards),b=Object(o.a)(E,2),x=b[0],f=b[1],N=Object(n.useState)(e.expense.issuedDate),h=Object(o.a)(N,2),v=h[0],y=h[1],S=Object(n.useState)(e.expense.amount),D=Object(o.a)(S,2),T=D[0],Y=D[1],A=Object(n.useState)(e.expense.billNumber),B=Object(o.a)(A,2),F=B[0],L=B[1],V=Object(n.useState)(e.expense.vendorAccountName),z=Object(o.a)(V,2),J=z[0],W=z[1],K=Object(n.useState)(e.expense.vendorBank),Q=Object(o.a)(K,2),G=Q[0],Z=Q[1],X=Object(n.useState)(e.expense.vendorAccountNumber),$=Object(o.a)(X,2),ee=$[0],ae=$[1],te=Object(n.useState)(e.expense.vendorAccountIfsc),ne=Object(o.a)(te,2),le=ne[0],se=ne[1],ce=Object(n.useState)(e.expense.vendorAccountBranch),re=Object(o.a)(ce,2),pe=re[0],ie=re[1],me=Object(n.useState)(e.expense.transactionId?e.expense.transactionId:""),de=Object(o.a)(me,2),ue=de[0],_e=de[1],Ee=Object(n.useState)(e.expense.transactionDate?e.expense.transactionDate:""),be=Object(o.a)(Ee,2),xe=be[0],fe=be[1],Ne=Object(n.useState)(e.expense.comments),he=Object(o.a)(Ne,2),ge=he[0],ve=he[1],je=Object(n.useState)("2"===e.expense.forCA),ye=Object(o.a)(je,2),Oe=ye[0],Se=ye[1],ke=Object(n.useState)(!1),De=Object(o.a)(ke,2),Me=De[0],Ce=De[1],Te=Object(n.useState)(!1),Ie=Object(o.a)(Te,2),Ye=Ie[0],we=Ie[1],Ae=Object(n.useState)(!1),Pe=Object(o.a)(Ae,2),Be=Pe[0],Ue=Pe[1],Fe=Object(n.useState)(!1),He=Object(o.a)(Fe,2),Le=He[0],Ve=He[1],Re=Object(n.useState)(!1),ze=Object(o.a)(Re,2),Je=ze[0],qe=ze[1],We=Object(n.useState)([]),Ke=Object(o.a)(We,2),Qe=Ke[0],Ge=Ke[1],Ze=Object(n.useState)(!1),Xe=Object(o.a)(Ze,2),$e=Xe[0],ea=Xe[1],aa=Object(n.useState)(!1),ta=Object(o.a)(aa,2),na=ta[0],la=ta[1],sa=Object(n.useState)(""),ca=Object(o.a)(sa,2),ra=ca[0],oa=ca[1],pa=function(){qe(!1)},ia=function(e){oa(e),la(!0)},ma=function(){Ce(!Me),Ue(!1),Me||(r(e.expense.expenseHead),_(e.expense.paidTo),f(e.expense.towards),y(e.expense.issuedDate),Y(e.expense.amount),W(e.expense.vendorAccountName),Z(e.expense.vendorBank),ae(e.expense.vendorAccountNumber),se(e.expense.vendorAccountIfsc),ie(e.expense.vendorAccountBranch),ve(e.expense.comments),_e(e.expense.transactionId?e.expense.transactionId:""),fe(e.expense.transactionDate?e.expense.transactionDate:""),L(e.expense.billNumber),Se("2"===e.expense.forCA),Ge([]))};return l.a.createElement("div",{className:Me?"bankExpense__card bankExpense__card--edit":"bankExpense__card"},l.a.createElement(O.a,{isOpen:na,ariaHideApp:!1,contentLabel:"Modal",className:"confirm-modal"},l.a.createElement(q,{closeConfirmationModal:function(){la(!1),oa("")},modalType:ra,amount:e.expense.amount,yesClicked:"verify"===ra||"approve"===ra?Le:$e,yesClickFunction:"verify"===ra||"approve"===ra?function(){Le||(Ve(!0),1===e.expense.status?i({method:"GET",url:"/approveExpense/".concat(e.expense.expenseId),headers:{accessToken:localStorage.accessToken}}).then((function(a){console.log(a),Ve(!1),la(!1),oa(""),m.NotificationManager.success("Successfulyy approved expense","Success",3e3),e.approveOrVerifyExpense(e.index)})).catch((function(e){console.log(e),Ve(!1),m.NotificationManager.error("Unable verify expense","Error",3e3)})):(Ue(!1),i({method:"GET",url:"/verifyExpense/".concat(e.expense.expenseId),headers:{accessToken:localStorage.accessToken}}).then((function(a){console.log(a),Ve(!1),la(!1),oa(""),m.NotificationManager.success("Successfulyy verified expense","Success",3e3),e.approveOrVerifyExpense(e.index)})).catch((function(e){console.log(e),Ve(!1),m.NotificationManager.error("Unable verify expense","Error",3e3)}))))}:function(){$e||(ea(!0),i({method:"DELETE",url:"/deleteExpense/".concat(e.expense.expenseId),headers:{accessToken:localStorage.accessToken}}).then((function(a){ea(!1),la(!1),oa(""),m.NotificationManager.success("Successfulyy deleted expense","Success",3e3),e.deleteExpense(e.index)})).catch((function(e){ea(!1),m.NotificationManager.error("Unable to delete expense","Error",3e3)})))}})),l.a.createElement(O.a,{isOpen:Me,ariaHideApp:!1,contentLabel:"Modal",className:"edit-modal edit-modal--bank"},l.a.createElement(oe,{expense:e.expense,employees:e.employees,expenseHeadList:e.expenseHeadList,closeEditModal:function(){return Ce(!1)},updateExpense:function(a){return e.updateExpense(e.index,a)},deleteReceipt:function(a){return e.deleteReceipt(e.index,a)},actions:a})),Je&&l.a.createElement(O.a,{isOpen:Je,onRequestClose:pa,ariaHideApp:!1,contentLabel:"Example Modal"},l.a.createElement(C,{closeModal:pa,expenseId:e.expense.expenseId,deleteReceipt:function(a){return e.deleteReceipt(e.index,a)},status:e.expense.status})),l.a.createElement("label",{className:"bankExpense__card__label"},"Budget Head"),Me&&1===e.expense.status?l.a.createElement("select",{value:c,className:"select capitalize",onChange:function(e){return r(e.target.value)}},l.a.createElement("option",{value:""},"Select"),e.expenseHeadList.map((function(e,a){return l.a.createElement("option",{className:"capitalize",value:e,key:a},e)}))):l.a.createElement("p",{className:"bankExpense__card__content capitalize"},e.expense.expenseHead),l.a.createElement("label",{className:"bankExpense__card__label"},"Paid To"),Me&&1===e.expense.status?l.a.createElement("input",{type:"text",className:"input",value:u,onChange:function(e){return _(e.target.value)}}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.paidTo),Be&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===c?"Please select a budget head":""),l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===u?"Paid to cannot be empty":"")),l.a.createElement("label",{className:"bankExpense__card__label"},"Towards"),Me&&1===e.expense.status?l.a.createElement("input",{type:"text",className:"input",value:x,onChange:function(e){return f(e.target.value)}}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.towards),l.a.createElement("label",{className:"bankExpense__card__label"},"Receipt Date"),Me&&1===e.expense.status?l.a.createElement(g.a,{inputProps:{placeholder:"Issued Date*",className:"input",readOnly:!0},isValidDate:function(e){return!e.isAfter(j.a.utc(new Date))},closeOnSelect:!0,closeOnTab:!0,value:v?new Date(j()(v,"DD-MM-YYYY")._d):"",onChange:function(e){y(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.issuedDate),Be&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===x?"Towards cannot be empty":""),l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===v?"Receipt date cannot be empty":"")),l.a.createElement("label",{className:"bankExpense__card__label"},"Amount"),Me&&1===e.expense.status?l.a.createElement("input",{type:"text",className:"input",value:T,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&(""===e.target.value?Y(e.target.value):Y(parseInt(e.target.value)))}}):l.a.createElement("p",{className:"bankExpense__card__content"},"\u20b9\xa0",e.expense.amount.toLocaleString("hi")),l.a.createElement("label",{className:"bankExpense__card__label"},2===e.expense.receiptType?"Voucher Number":"Bill Number"),Me&&1===e.expense.status?l.a.createElement("input",{type:"text",className:"input",value:F,onChange:function(e){return L(e.target.value)}}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.billNumber),Be&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===T?"Amount cannot be empty":""),l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===F||""===F.trim()?"".concat(2===e.expense.receiptType?"Voucher Number":"Bill Number"," cannot be empty"):"")),l.a.createElement("label",{className:"bankExpense__card__label"},"Vendor Name"),Me&&1===e.expense.status?l.a.createElement("input",{type:"text",className:"input",value:J,onChange:function(e){return W(e.target.value)}}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.vendorAccountName),l.a.createElement("label",{className:"bankExpense__card__label"},"Vendor Bank"),Me&&1===e.expense.status?l.a.createElement("input",{type:"text",className:"input",value:G,onChange:function(e){return Z(e.target.value)}}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.vendorBank),Be&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===J?"Vendor Account Name cannot be empty":""),l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===G?"Vendor bank cannot be empty":"")),l.a.createElement("label",{className:"bankExpense__card__label"},"Vendor Account Number"),Me&&1===e.expense.status?l.a.createElement("input",{type:"text",className:"input",value:ee,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&ae(e.target.value)}}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.vendorAccountNumber),l.a.createElement("label",{className:"bankExpense__card__label"},"Vendor Account IFSC"),Me&&1===e.expense.status?l.a.createElement("input",{type:"text",className:"input",value:le,onChange:function(e){/^[0-9a-zA-Z]*$/.test(e.target.value)&&se(e.target.value.toUpperCase())}}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.vendorAccountIfsc),Be&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===ee?"Vendor Account Number cannot be empty":""),l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===le?"Vendor Account IFSC cannot be empty":"")),l.a.createElement("label",{className:"bankExpense__card__label"},"Vendor Account Branch"),Me&&1===e.expense.status?l.a.createElement("input",{type:"text",className:"input",value:pe,onChange:function(e){return ie(e.target.value)}}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.vendorAccountBranch),l.a.createElement("label",{className:"bankExpense__card__label"},"For Auditor"),Me&&1===e.expense.status?l.a.createElement(R,{checked:Oe,onChange:function(e){return Se(e.target.checked)},className:"bankExpense__card__content",disabled:0===ge.length}):l.a.createElement("p",{className:"bankExpense__card__content"},"2"===e.expense.forCA?"Yes":"No"),Be&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===pe?"Vendor Account Branch cannot be empty":""),l.a.createElement("p",null),l.a.createElement("p",null)),a.verifyBankExpense&&2===e.expense.status?l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:"bankExpense__card__label"},"Transaction Number"),Me?l.a.createElement("input",{type:"text",className:"input",value:ue,onChange:function(e){_e(e.target.value.toUpperCase())}}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.transactionId),l.a.createElement("label",{className:"bankExpense__card__label"},"Transaction Date"),Me?l.a.createElement(g.a,{inputProps:{placeholder:"Transaction Date*",className:"input",readOnly:!0},isValidDate:function(e){return!e.isAfter(j.a.utc(new Date))},closeOnSelect:!0,closeOnTab:!0,value:xe?new Date(j()(xe,"DD-MM-YYYY")._d):"",onChange:function(e){fe(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.transactionDate),Be&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===ue?"Transaction Number cannot be empty":""),l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===xe?"Transaction Date cannot be empty":""))):"",l.a.createElement("label",{className:"bankExpense__card__label"},"Comments"),Me&&1===e.expense.status?l.a.createElement("textarea",{className:"textarea bankExpense__card__comment__textarea",value:ge,onChange:function(e){""===e.target.value&&Se(!1),ve(e.target.value)},rows:"2"}):l.a.createElement("p",{className:"bankExpense__card__content"},e.expense.comments),l.a.createElement("p",{className:"bankExpense__card__iconStack"}),l.a.createElement("div",{className:"bankExpense__card__iconStack"},Me&&l.a.createElement("button",{className:"bankExpense__card__icon",onClick:ma,title:"Cancel"},l.a.createElement(M.a,{className:"cancel"})),l.a.createElement("button",{className:"bankExpense__card__icon",onClick:Me?function(){if(!Ye){we(!0),Ue(!1);var a=!1,t=new FormData;if(t.append("expenseId",e.expense.expenseId),t.append("expenseType","bank"),t.append("projectId",1),t.append("paidBy",e.expense.paidBy),t.append("billNumber",F.trim()),t.append("expenseHead",c),t.append("issuedDate",v),t.append("amount",T),t.append("paidTo",u),t.append("receiptType",1),t.append("towards",x),t.append("comments",ge),t.append("vendorAccountName",J),t.append("vendorBank",G),t.append("vendorAccountNumber",ee),t.append("vendorAccountIfsc",le),t.append("vendorAccountBranch",pe),t.append("forCA",Oe?2:1),Qe.length>0&&1===e.expense.status)for(var n in Qe)t.append("receipts",Qe[n],Qe[n].name);else t.append("receipts",null);1===e.expense.status?(""===c&&(a=!0),""===v?a=!0:""===T?a=!0:""===u?a=!0:""===x?a=!0:""===J?a=!0:""===G?a=!0:""===ee?a=!0:""===le?a=!0:""===pe?a=!0:""!==F&&""!==F.trim()||(a=!0),t.append("transactionId",null),t.append("transactionDate","")):2===e.expense.status&&(console.log(ue,xe),""===ue?a=!0:""===xe&&(a=!0),t.append("transactionId",ue),t.append("transactionDate",xe)),a?(Ue(a),we(!1)):i({method:"PUT",url:"/updateExpense",headers:{accessToken:localStorage.accessToken},data:t}).then((function(a){console.log(a),we(!1),m.NotificationManager.success("Successfully updated expense","Success",3e3),Ce(!1),e.updateExpense(e.index,a.data.message)})).catch((function(e){console.log(e),we(!1),m.NotificationManager.error("Unable to update expense","Error",3e3)}))}}:ma,disabled:Ye,title:Me?"Save":"Edit"},Me?l.a.createElement(U.a,{className:"save"}):l.a.createElement(P.a,{className:"edit"})),a.deleteBankExpense&&1===e.expense.status&&!Me?l.a.createElement("button",{className:"bankExpense__card__icon",disabled:$e,onClick:function(){return ia("delete")},title:"Delete"},l.a.createElement(k.a,{className:"trash"})):"",Me&&1===e.expense.status&&l.a.createElement("button",{className:"bankExpense__card__icon",onClick:function(){return document.getElementById(e.expense.expenseId).click()},title:"Upload"},l.a.createElement(H.a,{className:"upload"})),!Me&&(a.approveBankExpense&&1===e.expense.status||a.verifyBankExpense&&2===e.expense.status)?l.a.createElement("button",{className:"bankExpense__card__icon",disabled:Le,onClick:1===e.expense.status?function(){return ia("approve")}:function(){e.expense.transactionId&&e.expense.transactionDate?(Ue(!1),ia("verify")):Ue(!0)},title:1===e.expense.status?"Approve":"Verify"},1===e.expense.status?l.a.createElement(I.a,{className:"approve"}):l.a.createElement(w.a,{className:"verify"})):""))};function ie(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function me(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ie(t,!0).forEach((function(a){Object(f.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ie(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var de=function(e){var a=Object(n.useState)([]),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(!0),p=Object(o.a)(r,2),d=p[0],u=p[1],_=Object(n.useState)("toBeApproved"),E=Object(o.a)(_,2),b=E[0],x=E[1],f=Object(n.useState)([]),h=Object(o.a)(f,2),g=h[0],v=h[1],y=Object(n.useState)(!1),S=Object(o.a)(y,2),k=S[0],D=S[1],M=Object(n.useState)([]),C=Object(o.a)(M,2),T=C[0],I=C[1];Object(n.useEffect)((function(){e.projectData.projects.length>0&&(i({method:"GET",url:"/getUsers",headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),I(e.data)})).catch((function(e){console.log(e)})),i({method:"GET",url:"/getExpensesByProject/".concat(e.projectData.projects[e.projectData.projectId].projectId),headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),c(e.data.message.sort((function(e,a){return new Date(j()(a.issuedDate,"DD-MM-YYYY")._d)-new Date(j()(e.issuedDate,"DD-MM-YYYY")._d)}))),u(!1)})).catch((function(e){console.log(e),u(!1),m.NotificationManager.error("Something went wrong! please try again")})),i({method:"GET",url:"/getExpenseHeadByProject/".concat(e.projectData.projects[e.projectData.projectId].projectId),headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),v(e.data),u(!1)})).catch((function(e){console.log(e),m.NotificationManager.error("Something went wrong! Please try again"),u(!1)})))}),[e.projectData.projects,e.projectData.projectId]);for(var Y=function(e){var a=Object(N.a)(s),t=me({},a[e]);1===t.status?t.status=2:2===t.status&&(t.status=3),a[e]=t,c(a)},w=function(e,a){var t=Object(N.a)(s);t[e]=a,c(t)},A=function(e){var a=Object(N.a)(s);a.splice(e,1),c(a)},P=function(e,a){var t=Object(N.a)(s),n=me({},t[e]),l=Object(N.a)(n.imageUrl);l.length>0&&l.splice(a,1),n.imageUrl=l,t[e]=n,c(t)},B=0,U=0;U<s.length;U++){if("approved"===b&&"bank"===s[U].expenseType&&2===s[U].status){B++;break}if("toBeApproved"===b&&"bank"===s[U].expenseType&&1===s[U].status){B++;break}if("verified"===b&&"bank"===s[U].expenseType&&3===s[U].status){B++;break}}return l.a.createElement("div",{className:"bankExpense"},l.a.createElement("div",{className:"bankExpense__header"},l.a.createElement("p",{onClick:function(){return x("toBeApproved")},className:"toBeApproved"===b?"bankExpense__header__element bankExpense__header__element--active":"bankExpense__header__element"},l.a.createElement("span",null,"Approval Pending"),l.a.createElement("input",{id:"displayToBeApproved",className:"radio",type:"radio",name:"display",value:"toBeApproved",checked:"toBeApproved"===b,onChange:function(){return x("toBeApproved")}})),l.a.createElement("p",{onClick:function(){return x("approved")},className:"approved"===b?"bankExpense__header__element bankExpense__header__element--active":"bankExpense__header__element"},"Bill Verification Pending",l.a.createElement("input",{className:"radio",id:"displayApproved",type:"radio",name:"display",value:"approved",checked:"approved"===b,onChange:function(){return x("approved")}})),l.a.createElement("p",{onClick:function(){return x("verified")},className:"verified"===b?"bankExpense__header__element bankExpense__header__element--active":"bankExpense__header__element"},"Verified Expenses",l.a.createElement("input",{className:"radio",id:"displayVerified",type:"radio",name:"display",value:"verified",checked:"verified"===b,onChange:function(){return x("verified")}})),l.a.createElement($.a,{className:"employees__table__header__newEmployee",startIcon:l.a.createElement(ae.a,{className:"headerCommon"}),onClick:function(){return D(!0)}},"ADD")),d?l.a.createElement("p",{className:"fullContent"},"Loading..."):B?s.map((function(e,a){return("approved"===b?"bank"===e.expenseType&&2===e.status:"verified"===b?"bank"===e.expenseType&&3===e.status:"bank"===e.expenseType&&1===e.status)&&l.a.createElement(pe,{key:a,expense:e,index:a,expenseHeadList:g,approveOrVerifyExpense:Y,updateExpense:w,deleteExpense:A,deleteReceipt:P})})):l.a.createElement("p",{className:"fullContent"},"No expenses found"),l.a.createElement(O.a,{isOpen:k,ariaHideApp:!1,contentLabel:"Modal",className:"edit-modal"},l.a.createElement(oe,{edit:!0,expenseHeadList:g,employees:T,refreshExpenses:function(e){var a=[].concat(Object(N.a)(s),[e]);c(a)},actions:localStorage.actions,closeEditModal:function(){return D(!1)}})))},ue=function(e){return l.a.createElement("div",{className:"projects__table"},l.a.createElement("p",null,e.project.projectName),l.a.createElement("p",null,e.project.startDate),l.a.createElement("p",null,e.project.endDate),l.a.createElement("button",{className:"projects__table__lastColumn projects__table__edit",onClick:function(){return e.editProject(e.project.projectId)}},l.a.createElement(K.a,{className:"edit"})))},_e=function(e){var a=Object(n.useState)([]),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(!0),p=Object(o.a)(r,2),m=p[0],d=p[1];Object(n.useEffect)((function(){i({method:"GET",url:"/getAllProjects",headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),d(!1),c(e.data)})).catch((function(e){console.log(e),d(!1)}))}),[]);var u=function(a){e.history.push("/project/edit/".concat(a))};return l.a.createElement("div",{className:"projects"},l.a.createElement("div",{className:"projects__table projects__table--header"},l.a.createElement("p",{className:"projects__table__header"},"Project Name"),l.a.createElement("p",{className:"projects__table__header"},"Start Date"),l.a.createElement("p",{className:"projects__table__header"},"End Date"),l.a.createElement($.a,{className:"projects__table__header__newProject projects__table__lastColumn",startIcon:l.a.createElement(ae.a,{className:"headerCommon"}),onClick:function(){e.history.push("/addProject")}},"NEW PROJECT")),m?l.a.createElement("p",{className:"fullContent"},"Loading ..."):s.length>0?s.map((function(e,a){return l.a.createElement(ue,{key:a,project:e,editProject:u})})):l.a.createElement("p",{className:"fullContent"},"No Projects found"))},Ee=t(173),be=t.n(Ee),xe=function(e){return l.a.createElement("div",{className:"add-employee-modal"},l.a.createElement("div",{className:"editExpenseModal__data"},l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"First Name"),l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"First Name*",value:e.firstName,onChange:function(a){e.setFirstName(a.target.value)}}),e.error&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===e.firstName?"First Name cannot be blank":"")),l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Last Name"),l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Last Name*",value:e.lastName,onChange:function(a){e.setLastName(a.target.value)}}),e.error&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===e.lastName?"Last Name cannot be blank":"")),l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Username"),l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Username*",value:e.userName,onChange:function(a){e.setUserName(a.target.value)}}),e.error&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===e.userName?"Username cannot be blank":"")),l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Password"),l.a.createElement("input",{className:"input cashExpense__table__input",type:"text",placeholder:"Password*",value:e.password,onChange:function(a){e.setPassword(a.target.value)}}),e.error&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===e.password?"Password cannot be blank":"")),l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Role"),l.a.createElement("select",{className:"select is-info",value:e.roleId,onChange:function(a){return e.setRoleId(a.target.value)}},l.a.createElement("option",{value:""},"Select"),e.rolesList.map((function(e,a){return l.a.createElement("option",{key:a,className:"capitalize",value:e.roleId},e.role)}))),e.error&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===e.roleId?"Role cannot be blank":"")),l.a.createElement("label",{className:"editExpenseModal__data__label--edit"},"Joining Date"),l.a.createElement(g.a,{inputProps:{placeholder:"Joining Date*",className:"input employees__table__input",readOnly:!0},isValidDate:function(a){return!e.endDate||a.isSameOrBefore(j.a.utc(new Date(j()(e.endDate,"DD-MM-YYYY")._d)))},closeOnSelect:!0,closeOnTab:!0,value:e.joiningDate?new Date(j()(e.joiningDate,"DD-MM-YYYY")._d):"",onChange:function(a){e.setJoiningDate(j()(new Date(a._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}),e.error&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null),l.a.createElement("span",{className:"error"},""===e.joiningDate?"Date cannot be blank":"")),l.a.createElement("div",{className:"editExpenseModal__data__buttonStack"},l.a.createElement("button",{onClick:e.addEmployee,className:"editExpenseModal__data__save"},l.a.createElement(U.a,{className:"editExpenseModal__data__save--icon"})," ","SAVE"),l.a.createElement("button",{onClick:e.onCancel,className:"editExpenseModal__data__cancel"},"CANCEL"))))},fe=function(e){var a=JSON.parse(localStorage.actions),t=Object(n.useState)([]),s=Object(o.a)(t,2),c=s[0],r=s[1],p=Object(n.useState)(""),d=Object(o.a)(p,2),u=d[0],_=d[1],E=Object(n.useState)(""),b=Object(o.a)(E,2),x=b[0],f=b[1],h=Object(n.useState)(""),g=Object(o.a)(h,2),v=g[0],j=g[1],y=Object(n.useState)(""),S=Object(o.a)(y,2),k=S[0],D=S[1],M=Object(n.useState)(""),C=Object(o.a)(M,2),T=C[0],I=C[1],Y=Object(n.useState)(""),w=Object(o.a)(Y,2),A=w[0],P=w[1],B=Object(n.useState)(""),U=Object(o.a)(B,2),F=U[0],H=U[1],L=Object(n.useState)([]),V=Object(o.a)(L,2),R=V[0],z=V[1],J=Object(n.useState)(!1),W=Object(o.a)(J,2),K=W[0],Q=W[1],G=Object(n.useState)(!1),Z=Object(o.a)(G,2),X=Z[0],ee=Z[1],te=Object(n.useState)(!0),ne=Object(o.a)(te,2),le=ne[0],se=ne[1],ce=Object(n.useState)(!1),re=Object(o.a)(ce,2),oe=re[0],pe=re[1],ie=Object(n.useState)(""),me=Object(o.a)(ie,2),de=me[0],ue=me[1],_e=Object(n.useState)(!1),Ee=Object(o.a)(_e,2),be=Ee[0],fe=Ee[1];Object(n.useEffect)((function(){i({method:"GET",url:"/getRoles",headers:{accessToken:localStorage.accessToken}}).then((function(e){z(e.data.message)})).catch((function(e){})),i({method:"GET",url:"/getUsers",headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),se(!1),r(e.data)})).catch((function(e){console.log(e),se(!1)}))}),[]);var he=function(e,a){var t=Object(N.a)(c);t[e]=a,r(t)};return l.a.createElement("div",{className:"employees"},l.a.createElement("div",{className:"employees__table employees__table--header"},l.a.createElement("p",{className:"employees__table__header"},"Name"),l.a.createElement("p",{className:"employees__table__header"},"Username"),l.a.createElement("p",{className:"employees__table__header"},"Role"),l.a.createElement("p",{className:"employees__table__header"},"Joining Date"),l.a.createElement("p",{className:"employees__table__header"}),a.addUser?l.a.createElement($.a,{className:"employees__table__header__newEmployee",startIcon:l.a.createElement(ae.a,{className:"headerCommon"}),onClick:function(){return fe(!0)}},"ADD EMPLOYEE"):l.a.createElement("p",null)),le?l.a.createElement("p",{className:"fullContent"},"Loading ..."):c.length>0?c.map((function(e,a){return l.a.createElement(Ne,{key:a,index:a,user:e,updateEmployee:he,rolesList:R,passwordReset:pe,setUserId:ue})})):l.a.createElement("p",{className:"fullContent"},"No Employees found"),l.a.createElement(O.a,{isOpen:oe,ariaHideApp:!1,contentLabel:"Modal",className:"confirm-modal"},l.a.createElement(q,{closeConfirmationModal:function(){pe(!1)},modalType:"resetPassword",yesClickFunction:function(e){i({method:"POST",url:"/resetPasswordByAdmin",headers:{accessToken:localStorage.accessToken},data:{userId:de,password:e}}).then((function(e){pe(!1),m.NotificationManager.success("Successfully reset user password","Success",3e3)})).catch((function(e){console.log(e),m.NotificationManager.error("something went wrong! Please try again","Error",3e3)}))}})),l.a.createElement(O.a,{isOpen:be,ariaHideApp:!1,contentLabel:"Modal",className:"edit-modal"},l.a.createElement(xe,{onCancel:function(){fe(!1),j(""),D(""),I(""),P(""),H(""),ee(!1)},rolesList:R,firstName:u,setFirstName:_,lastName:x,setLastName:f,userName:v,setUserName:j,password:k,setPassword:D,roleId:T,setRoleId:I,joiningDate:A,setJoiningDate:P,endDate:F,error:X,addEmployee:function(){if(!K){Q(!0),ee(!1);var e=!1;""===u||""===u.trim()?e=!0:""===x||""===x.trim()?e=!0:""===v||""===v.trim()?e=!0:""===k||""===k.trim()?e=!0:""===T?e=!0:""===A&&(e=!0),e?(Q(!1),ee(e)):i({method:"POST",url:"/createUser",data:{userName:v.trim(),firstName:u,lastName:x,roleId:T,joiningDate:A,password:k},headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),Q(!1),r([].concat(Object(N.a)(c),[e.data.message])),j(""),D(""),I(""),P(""),H(""),fe(!1),m.NotificationManager.success("Successfully","Success",3e3)})).catch((function(e){console.log(e),Q(!1),m.NotificationManager.error("Something went wrong! Please try again","Error",3e3)}))}}})))},Ne=function(e){for(var a=Object(n.useState)(e.user.firstName),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(e.user.lastName),p=Object(o.a)(r,2),d=p[0],u=p[1],_=Object(n.useState)(e.user.userName),E=Object(o.a)(_,2),b=E[0],x=E[1],f=Object(n.useState)(e.user.roleId),N=Object(o.a)(f,2),h=N[0],v=N[1],y=Object(n.useState)(e.user.joiningDate),O=Object(o.a)(y,2),S=O[0],k=O[1],D=Object(n.useState)(e.user.endDate),C=Object(o.a)(D,2),T=C[0],I=C[1],Y=Object(n.useState)(!1),w=Object(o.a)(Y,2),A=w[0],P=w[1],B=Object(n.useState)(!1),F=Object(o.a)(B,2),H=F[0],L=F[1],V=Object(n.useState)(!1),R=Object(o.a)(V,2),z=R[0],J=R[1],q=function(){P(!A),J(!1),A&&(x(e.user.userName),v(e.user.roleId),k(e.user.joiningDate),I(e.user.endDate))},W="",Q=0;Q<e.rolesList.length;Q++)if(e.rolesList[Q].roleId===e.user.roleId){W=e.rolesList[Q].role;break}return l.a.createElement("div",{className:"employees__table"},A?l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("input",{className:"input",placeholder:"First Name",value:s,onChange:function(e){return c(e.target.value)}}),l.a.createElement("input",{className:"input",placeholder:"Last Name",value:d,onChange:function(e){return u(e.target.value)}})):l.a.createElement("p",{className:"capitalize"},"".concat(e.user.firstName?e.user.firstName:""," ").concat(e.user.lastName?e.user.lastName:"")),A?l.a.createElement("input",{className:"input",value:b,onChange:function(e){return x(e.target.value)}}):l.a.createElement("p",{className:"capitalize"},e.user.userName),A?l.a.createElement("select",{className:"select is-info",value:h,onChange:function(e){return v(e.target.value)},disabled:parseInt(localStorage.userId)===e.user.userId},l.a.createElement("option",{value:""},"Select"),e.rolesList.map((function(e,a){return l.a.createElement("option",{key:a,className:"capitalize",value:e.roleId},e.role)}))):l.a.createElement("p",{className:"capitalize"},W),A?l.a.createElement(g.a,{inputProps:{placeholder:"Joining Date*",className:"input employees__table__input",readOnly:!0},isValidDate:function(e){return!T||e.isSameOrBefore(j.a.utc(new Date(j()(T,"DD-MM-YYYY")._d)))},closeOnSelect:!0,closeOnTab:!0,value:S?new Date(j()(S,"DD-MM-YYYY")._d):"",onChange:function(e){k(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}):l.a.createElement("p",null,e.user.joiningDate),l.a.createElement("p",null),l.a.createElement("div",{className:"employees__table__iconStack"},!A&&l.a.createElement("button",{className:"employees__table__icon",onClick:function(){e.setUserId(e.user.userId),e.passwordReset(!0)}},l.a.createElement(be.a,{className:"cancel"})),A&&l.a.createElement("button",{className:"employees__table__icon",onClick:q},l.a.createElement(M.a,{className:"cancel"})),l.a.createElement("button",{className:"employees__table__icon",disabled:H,onClick:A?function(){!function(){if(s===e.user.firstName&&d===e.user.lastName&&b===e.user.userName&&h===e.user.roleId&&S===e.user.joiningDate&&T===e.user.endDate)return q(),!1;if(!H){L(!0),J(!1);var a=!1;""===s||""===s.trim()?a=!0:""===d||""===d.trim()?a=!0:""===b||""===b.trim()?a=!0:""===h?a=!0:""===S&&(a=!0),a?(L(!1),J(a)):i({method:"PUT",url:"/updateUser",data:{userId:e.user.userId,firstName:s,lastName:d,userName:b,roleId:h,joiningDate:S,endDate:T},headers:{accessToken:localStorage.accessToken}}).then((function(a){console.log(a),e.updateEmployee(e.index,a.data.message),L(!1),P(!1)})).catch((function(e){console.log(e),L(!1),m.NotificationManager.error("something went wrong! Please try again","Error",3e3)}))}}()}:q},A?l.a.createElement(U.a,{className:"save"}):l.a.createElement(K.a,{className:"edit"}))),z&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"error"},""===s||""===s.trim()?"First Name cannot be blank":""),l.a.createElement("p",{className:"error"},""===d||""===d.trim()?"Last Name cannot be blank":""),l.a.createElement("p",{className:"error"},""===b||""===b.trim()?"Username cannot be blank":""),l.a.createElement("p",null),l.a.createElement("p",{className:"error"},""===h?"Please select a role":""),l.a.createElement("p",{className:"error"},""===S?"Select a joining date":"")))},he=t(174),ge=t.n(he),ve=t(175),je=t.n(ve),ye=t(176),Oe=t.n(ye),Se=function(e){var a=Object(n.useState)(e.expenseHead.key),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(e.expenseHead.totalCost),p=Object(o.a)(r,2),i=p[0],m=p[1],d=Object(n.useState)(!1),u=Object(o.a)(d,2),_=u[0],E=u[1],b=Object(n.useState)(!1),x=Object(o.a)(b,2),f=x[0],N=x[1],h=function(){E(!_),_&&(c(e.expenseHead.key),m(e.expenseHead.totalCost))};return l.a.createElement("div",{className:"editProject__expenseHeads"},_?l.a.createElement("div",null,l.a.createElement("input",{className:"input projects__table__input",type:"text",placeholder:"Name",value:s,onChange:function(e){c(e.target.value)},readOnly:!_}),f&&(""===s||""===s.trim())&&l.a.createElement("p",{className:"error"},"Budget Head Name cannot be empty")):l.a.createElement("p",{className:"capitalize"},e.expenseHead.key),_?l.a.createElement("div",null,l.a.createElement("input",{className:"input projects__table__input",type:"text",placeholder:"Total Cost",value:_?i:i.toLocaleString("hi"),onChange:function(e){/^[0-9]*$/.test(e.target.value)&&(""===e.target.value?m(e.target.value):m(parseInt(e.target.value)))},readOnly:!_}),f&&(0===i||""===i)&&l.a.createElement("p",{className:"error"},0===i?"Total cost cannot be zero":"Total cost cannot be empty")):l.a.createElement("p",{className:"money"},"\u20b9\xa0",e.expenseHead.totalCost.toLocaleString("hi")),l.a.createElement("div",{className:"editProject__expenseHeads__iconStack"},_&&l.a.createElement("button",{className:"editProject__expenseHeads__icon",onClick:h},l.a.createElement(M.a,{className:"cancel"})),l.a.createElement("button",{className:"editProject__expenseHeads__icon",onClick:_?function(){N(!1);var a=!1;""===s||""===s.trim()?a=!0:0!==i&&""!==i||(a=!0),a?N(a):(E(!1),e.updateOverallExpenseHeads({key:s.trim(),totalCost:i},e.index))}:h,disabled:e.updateExpenseHeadClicked},_?l.a.createElement(U.a,{className:"save"}):l.a.createElement(K.a,{className:"edit"}))))},ke=function(e){var a=Object(n.useState)(e.match.params.id),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(""),p=Object(o.a)(r,2),d=p[0],u=p[1],_=Object(n.useState)(""),E=Object(o.a)(_,2),b=E[0],x=E[1],f=Object(n.useState)(""),h=Object(o.a)(f,2),v=h[0],y=h[1],O=Object(n.useState)(""),S=Object(o.a)(O,2),k=S[0],D=S[1],C=Object(n.useState)(""),T=Object(o.a)(C,2),I=T[0],Y=T[1],w=Object(n.useState)(""),A=Object(o.a)(w,2),P=A[0],B=A[1],F=Object(n.useState)(""),H=Object(o.a)(F,2),L=H[0],V=H[1],R=Object(n.useState)([]),z=Object(o.a)(R,2),J=z[0],q=z[1],W=Object(n.useState)(""),Q=Object(o.a)(W,2),G=Q[0],Z=Q[1],X=Object(n.useState)(""),ee=Object(o.a)(X,2),te=ee[0],ne=ee[1],le=Object(n.useState)(!1),se=Object(o.a)(le,2),ce=se[0],re=se[1],oe=Object(n.useState)(!1),pe=Object(o.a)(oe,2),ie=pe[0],me=pe[1],de=Object(n.useState)(""),ue=Object(o.a)(de,2),_e=ue[0],Ee=ue[1],be=Object(n.useState)(!1),xe=Object(o.a)(be,2),fe=xe[0],Ne=xe[1],he=Object(n.useState)(!1),ve=Object(o.a)(he,2),ye=ve[0],ke=ve[1],De=Object(n.useState)(!1),Me=Object(o.a)(De,2),Ce=Me[0],Te=Me[1],Ie=Object(n.useState)("heads"),Ye=Object(o.a)(Ie,2),we=Ye[0],Ae=Ye[1],Pe=Object(n.useState)(!1),Be=Object(o.a)(Pe,2),Ue=Be[0],Fe=Be[1],He=Object(n.useState)([]),Le=Object(o.a)(He,2),Ve=Le[0],Re=Le[1],ze=Object(n.useState)(""),Je=Object(o.a)(ze,2),qe=Je[0],We=Je[1],Ke=Object(n.useState)([]),Qe=Object(o.a)(Ke,2),Ge=Qe[0],Ze=Qe[1];Object(n.useEffect)((function(){e.match.params.id?(c(e.match.params.id),i({method:"GET",url:"/getProjectById/".concat(e.match.params.id),headers:{accessToken:localStorage.accessToken}}).then((function(e){u(e.data.projectName),x(e.data.startDate),y(e.data.endDate),q(e.data.expenseHeads?e.data.expenseHeads:[]),V(e.data.status)})).catch((function(e){console.log(e),m.NotificationManager.error("Unable to fetch project details","Error",3e3)}))):(c(0),ke(!0)),i({method:"GET",url:"/getUsers",headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),Re(e.data)})).catch((function(e){console.log(e)})),i({method:"GET",url:"/getUsersByProject/".concat(s),headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),Ze(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id,s]);var Xe=function(e,a){ie||(me(!0),i({method:"PUT",url:"/updateExpenseHeads",data:{projectId:parseInt(s),expenseHeads:e},headers:{accessToken:localStorage.accessToken}}).then((function(t){console.log(t),m.NotificationManager.success("Successfully updated budget heads","Success",3e3),"new"===a&&(Z(""),ne(""),Te(!1)),q(e),me(!1)})).catch((function(e){console.log(e),m.NotificationManager.error("Unable to updated budget heads","Error",3e3),me(!1)})))},$e=function(e,a){var t=Object(N.a)(J);t[a]=e,Xe(t)},ea=function(){ke(!ye),ye||(D(d),Y(b),B(v))},aa=function(){Ne(!1),Te(!1),Z(""),ne("")};return l.a.createElement("div",{className:"editProject"},l.a.createElement("div",{className:"editProject__header"},l.a.createElement("span",{onClick:function(){return e.history.push("/projects")}},l.a.createElement(ge.a,{className:"back"}),l.a.createElement("span",null,"PROJECTS LIST"))),l.a.createElement("div",{className:"editProject__projectDetails"},l.a.createElement("label",null,"Project Name"),ye?l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input projects__table__input",type:"text",placeholder:"Project Name*",value:k,onChange:function(e){D(e.target.value)}}),_e&&(""===k||""===k.trim())&&l.a.createElement("p",{className:"error"},"Please enter project name")):l.a.createElement("p",{className:"editProject__projectDetails__text"},d),l.a.createElement("button",{onClick:ye?function(){if(!ce){if(re(!0),Ee(!1),k.trim()===d&&I===b&&P===v&&0!==s)return re(!1),ke(!1),!0;var a=!1;if(""===k||""===k.trim()?a=!0:""===I?a=!0:""===P&&(a=!0),a)re(!1),Ee(a);else{var t={projectName:k.trim(),startDate:I,endDate:P};0!==s&&(t.status=L,t.projectId=parseInt(s)),i({method:0===s?"POST":"PUT",url:0===s?"/createProject":"/updateProject",data:t,headers:{accessToken:localStorage.accessToken}}).then((function(t){console.log(t),0===s?e.history.push("/project/edit/".concat(t.data.message.projectId)):(u(k),x(I),y(P),re(!1),Ee(a),ke(!1))})).catch((function(e){console.log(e),re(!1),Ee(a),m.NotificationManager.error("Unable to update project details","Error",3e3)}))}}}:ea,disabled:!!ye&&ce,className:"editProject__projectDetails__icon"},ye?l.a.createElement(U.a,{className:"save"}):l.a.createElement(K.a,{className:"edit"})),l.a.createElement("label",null,"Start Date"),ye?l.a.createElement("div",{className:"control"},l.a.createElement(g.a,{inputProps:{placeholder:"Start Date*",className:"input projects__table__input",readOnly:!0},closeOnSelect:!0,closeOnTab:!0,isValidDate:function(e){return!P||e.isSameOrBefore(j.a.utc(new Date(j()(P,"DD-MM-YYYY")._d)))},value:I?new Date(j()(I,"DD-MM-YYYY")._d):"",onChange:function(e){Y(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}),_e&&""===I&&l.a.createElement("p",{className:"error"},"Please select a date")):l.a.createElement("p",{className:"editProject__projectDetails__text"},b),ye&&0!==s?l.a.createElement("button",{onClick:ea,className:"editProject__projectDetails__icon"},l.a.createElement(M.a,{className:"cancel"})):l.a.createElement("p",null),l.a.createElement("label",null,"End Date"),ye?l.a.createElement("div",{className:"control"},l.a.createElement(g.a,{inputProps:{placeholder:"End Date*",className:"input projects__table__input",readOnly:!0},closeOnSelect:!0,closeOnTab:!0,isValidDate:function(e){return!I||e.isSameOrAfter(j.a.utc(new Date(j()(I,"DD-MM-YYYY")._d)))},value:P?new Date(j()(P,"DD-MM-YYYY")._d):"",onChange:function(e){B(j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1}),_e&&""===P&&l.a.createElement("p",{className:"error"},"Please select a date")):l.a.createElement("p",{className:"editProject__projectDetails__text"},v)),0!==s&&l.a.createElement("div",{className:"dashboard__header"},l.a.createElement("p",{onClick:function(){return Ae("heads")},className:"heads"===we?"dashboard__header__element dashboard__header__element--active":"dashboard__header__element"},"Budget Heads",l.a.createElement("input",{id:"displayReports",className:"radio",type:"radio",name:"display",value:"heads",checked:"heads"===we,onChange:function(){return Ae("heads")}})),l.a.createElement("p",{onClick:function(){return Ae("users")},className:"heads"!==we?"dashboard__header__element dashboard__header__element--active":"dashboard__header__element"},"Users",l.a.createElement("input",{className:"radio",id:"displayList",type:"radio",name:"display",value:"users",checked:"users"===we,onChange:function(){return Ae("users")}}))),0!==s&&"heads"===we&&l.a.createElement("div",{className:"editProject__expenseHeads"},l.a.createElement("label",{className:"bold"},"Budget Head Name"),l.a.createElement("label",{className:"bold money"},"Allocation"),l.a.createElement($.a,{className:"editProject__expenseHeads__icon editProject__expenseHeads__newExpenseHead",startIcon:l.a.createElement(ae.a,{className:"headerCommon"}),onClick:function(){return Te(!0)}},"NEW BUDGET HEAD")),Ce&&"heads"===we&&l.a.createElement("div",{className:"editProject__expenseHeads"},l.a.createElement("div",null,l.a.createElement("input",{className:"input projects__table__input",type:"text",placeholder:"Name",value:G,onChange:function(e){Z(e.target.value)}}),fe&&(""===G||""===G.trim())&&l.a.createElement("p",{className:"error"},"Budget Head Name cannot be empty")),l.a.createElement("div",null,l.a.createElement("input",{className:"input projects__table__input",type:"text",placeholder:"Total Cost",value:te,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&(""===e.target.value?ne(e.target.value):ne(parseInt(e.target.value)))}}),fe&&(0===te||""===te)&&l.a.createElement("p",{className:"error"},0===te?"Total cost cannot be zero":"Total cost cannot be empty")),l.a.createElement("div",{className:"editProject__expenseHeads__iconStack"},l.a.createElement("button",{className:"editProject__expenseHeads__icon",onClick:aa},l.a.createElement(M.a,{className:"cancel"})),l.a.createElement("button",{className:"editProject__expenseHeads__icon",onClick:function(){Ne(!1);var e=!1;if(""===G||""===G.trim()?e=!0:""!==te&&0!==te||(e=!0),e)Ne(e);else{var a={key:G.trim(),totalCost:te};Xe([].concat(Object(N.a)(J),[a]),"new")}}},l.a.createElement(U.a,{className:"save"})))),"heads"===we&&J.map((function(e,a){return l.a.createElement(Se,{key:a,index:a,expenseHead:e,updateOverallExpenseHeads:$e,updateExpenseHeadClicked:ie})})),"users"===we&&l.a.createElement("div",{className:"employees__table employees__table--header"},l.a.createElement("p",{className:"employees__table__header"},"Name"),l.a.createElement("p",{className:"employees__table__header"},"Role"),l.a.createElement("p",{className:"employees__table__header"}),l.a.createElement("p",{className:"employees__table__header"}),l.a.createElement("p",{className:"employees__table__header"}),l.a.createElement($.a,{className:"employees__table__header__newEmployee",startIcon:l.a.createElement(ae.a,{className:"headerCommon"}),onClick:function(){return Fe(!0)}},"ADD EMPLOYEE")),"users"===we&&Ue&&l.a.createElement("div",{className:"employees__table"},l.a.createElement("select",{className:"select is-info",value:qe,onChange:function(e){return We(e.target.value)}},l.a.createElement("option",{value:""},"Select"),Ve.filter((function(e){return!Ge.some((function(a){return e.userId===a.userId}))})).map((function(e,a){return l.a.createElement("option",{key:a,className:"capitalize",value:e.userId},e.userName)}))),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",{className:"employees__table__iconStack"},l.a.createElement("button",{className:"employees__table__icon",onClick:function(){Fe(!1)}},l.a.createElement(M.a,{className:"cancel"})),l.a.createElement("button",{onClick:function(){i({method:"PUT",url:"/createUsersProjectMap",headers:{accessToken:localStorage.accessToken},data:{userId:parseInt(qe),projectId:parseInt(s)}}).then((function(e){We(""),Ze(e.data.message),console.log(e)})).catch((function(e){console.log(e)}))},className:"employees__table__icon"},l.a.createElement(je.a,{className:"save"})))),"users"===we&&Ge.length>0&&Ge.map((function(e){return l.a.createElement("div",{key:e.userId,className:"employees__table"},l.a.createElement("p",{className:"capitalize"},e.userName),l.a.createElement("p",{className:"capitalize"},e.role),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",{className:"employees__table__iconStack"},l.a.createElement("button",{className:"employees__table__icon",onClick:aa},l.a.createElement(Oe.a,{onClick:function(){return a=e.userId,void i({method:"DELETE",url:"/deleteUserProjectMap/".concat(s,"/").concat(a),headers:{accessToken:localStorage.accessToken}}).then((function(e){Ze(e.data.message),console.log(e)})).catch((function(e){console.log(e)}));var a},className:"cancel"}))))})))},De=t(72),Me=t.n(De),Ce=t(17),Te=t(379),Ie=t(97),Ye=t.n(Ie),we=t(178),Ae=t.n(we),Pe=t(177),Be=t.n(Pe),Ue=Me.a.ExcelFile,Fe=Me.a.ExcelFile.ExcelSheet,He=Me.a.ExcelFile.ExcelColumn,Le=Object(L.a)({root:{height:10,borderRadius:20,backgroundColor:Object(Ce.d)("#0E9347",.5)},bar:{backgroundColor:"#0E9347"}})(Te.a),Ve=Object(L.a)({root:{height:10,borderRadius:20,backgroundColor:Object(Ce.d)("#ff6c5c",.5)},bar:{backgroundColor:"#ff6c5c"}})(Te.a),Re=function(e){console.log(e);var a=Object(n.useState)("01-01-".concat((new Date).getFullYear())),t=Object(o.a)(a,2),s=t[0],c=t[1],r=Object(n.useState)(j()().format("DD-MM-YYYY")),p=Object(o.a)(r,2),d=p[0],u=p[1],_=Object(n.useState)(!0),E=Object(o.a)(_,2),b=E[0],x=E[1],f=Object(n.useState)("reports"),h=Object(o.a)(f,2),v=h[0],y=h[1],O=Object(n.useState)([]),S=Object(o.a)(O,2),k=S[0],D=S[1],M=Object(n.useState)([]),C=Object(o.a)(M,2),T=C[0],I=C[1],Y=Object(n.useState)([]),w=Object(o.a)(Y,2),A=w[0],P=w[1],B=Object(n.useState)([]),U=Object(o.a)(B,2),F=U[0],H=U[1];Object(n.useEffect)((function(){e.projectData.projects.length>0&&(i({method:"POST",url:"/getDashboardDataByProject",data:{projectId:e.projectData.projects[e.projectData.projectId].projectId,startDate:"01-01-".concat((new Date).getFullYear()),endDate:j()().format("DD-MM-YYYY")},headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),localStorage.accessToken=e.data.accessToken,x(!1);for(var a=e.data.message.allocated,t=e.data.message.expenses,n=[],l=[],s=0,c=0,r=function(e){var r=a[e];r.totalSpent=0;var o=t.filter((function(t){return a[e].key===t._id}));if(o.length>0){r.totalSpent=o[0].totalSpent;for(var p=0;p<o[0].data.length;p++)l.push(o[0].data[p])}r.utilized=Math.round((r.totalSpent?r.totalSpent:0)/r.totalCost*100),s+=r.totalCost,c+=r.totalSpent,n.push(r)},o=0;o<a.length;o++)r(o);n.push({key:"Total",totalCost:s,totalSpent:c,utilized:Math.round(c/s*100)}),l.sort((function(e,a){return new Date(a.issuedDate)-new Date(e.issuedDate)}));for(var p=[],i=function(e){var t=a[e],n=l.filter((function(e){return t.key===e.expenseHead}));p=[].concat(Object(N.a)(p),Object(N.a)(n))},m=0;m<a.length;m++)i(m);D(n),P(p)})).catch((function(e){m.NotificationManager.error("Unable to load data","Error",3e3),x(!1)})),i({method:"GET",url:"/getUsers",headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),H(e.data)})).catch((function(e){console.log(e)})))}),[e.projectData.projects,e.projectData.projectId]);var L=function(e,a){b||(x(!0),i({method:"POST",url:"/getDashboardDataByProject",data:{projectId:1,startDate:"startDate"===e?a:s,endDate:"endDate"===e?a:d},headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),localStorage.accessToken=e.data.accessToken,x(!1);for(var a=e.data.message.allocated,t=e.data.message.expenses,n=[],l=[],s=0,c=0,r=function(e){var r=a[e];r.totalSpent=0;var o=t.filter((function(t){return a[e].key===t._id}));if(o.length>0){r.totalSpent=o[0].totalSpent;for(var p=0;p<o[0].data.length;p++)l.push(o[0].data[p])}r.utilized=Math.round(r.totalSpent/r.totalCost*100),s+=r.totalCost,c+=r.totalSpent,n.push(r)},o=0;o<a.length;o++)r(o);n.push({key:"Total",totalCost:s,totalSpent:c,utilized:Math.round(c/s*100)}),l.sort((function(e,a){return new Date(a.issuedDate)-new Date(e.issuedDate)}));for(var p=[],i=function(e){var t=a[e],n=l.filter((function(e){return t.key===e.expenseHead}));p=[].concat(Object(N.a)(p),Object(N.a)(n))},m=0;m<a.length;m++)i(m);D(n),P(l)})).catch((function(e){m.NotificationManager.error("Unable to load data","Error",3e3),x(!1)})))};return l.a.createElement("div",{className:"dashboard"},l.a.createElement("div",{className:"dashboard__header"},l.a.createElement("p",{onClick:function(){return y("reports")},className:"reports"===v?"dashboard__header__element dashboard__header__element--active":"dashboard__header__element"},"Utilization Certificate",l.a.createElement("input",{id:"displayReports",className:"radio",type:"radio",name:"display",value:"reports",checked:"reports"===v,onChange:function(){return y("reports")}})),l.a.createElement("p",{onClick:function(){return y("list")},className:"reports"!==v?"dashboard__header__element dashboard__header__element--active":"dashboard__header__element"},"Budget Heads",l.a.createElement("input",{className:"radio",id:"displayList",type:"radio",name:"display",value:"list",checked:"list"===v,onChange:function(){return y("list")}}))),l.a.createElement("div",{className:"dashboard__secondHeader"},l.a.createElement("p",{className:"dashboard__secondHeader__text"},"Date Range for"," ","reports"===v?"Utilization Certificate":"Budget Heads"),l.a.createElement("div",{className:"dashboard__secondHeader__dateRange"},l.a.createElement("p",null,"FROM"),l.a.createElement(g.a,{inputProps:{placeholder:"Start Date*",className:"input dashboard__secondHeader__dateRange__input",readOnly:!0},isValidDate:function(e){return!e.isAfter(j.a.utc(new Date))&&(!d||e.isSameOrBefore(j.a.utc(new Date(j()(d,"DD-MM-YYYY")._d))))},closeOnSelect:!0,closeOnTab:!0,value:s?new Date(j()(s,"DD-MM-YYYY")._d):"",onChange:function(e){c(j()(new Date(e._d)).format("DD-MM-YYYY")),L("startDate",j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1})),l.a.createElement("div",{className:"dashboard__secondHeader__dateRange"},l.a.createElement("p",null,"TO"),l.a.createElement(g.a,{inputProps:{placeholder:"End Date*",className:"input dashboard__secondHeader__dateRange__input",readOnly:!0},isValidDate:function(e){return!e.isAfter(j.a.utc(new Date))&&(!s||e.isSameOrAfter(j.a.utc(new Date(j()(s,"DD-MM-YYYY")._d))))},closeOnSelect:!0,closeOnTab:!0,value:d?new Date(j()(d,"DD-MM-YYYY")._d):"",onChange:function(e){u(j()(new Date(e._d)).format("DD-MM-YYYY")),L("endDate",j()(new Date(e._d)).format("DD-MM-YYYY"))},dateFormat:"DD-MM-YYYY",timeFormat:!1})),"list"===v?l.a.createElement(Ue,{element:l.a.createElement($.a,{className:"dashboard__secondHeader__download",disabled:0===A.length,endIcon:l.a.createElement(Ye.a,{className:"download"})},"Download")},l.a.createElement(Fe,{data:A,name:"Budget Heads"},l.a.createElement(He,{label:"Expense Head",value:function(e){return e.expenseHead.toUpperCase()}}),l.a.createElement(He,{label:"Date",value:function(e){return j()(e.issuedDate).format("DD-MM-YYYY")}}),l.a.createElement(He,{label:"Paid To",value:"paidTo"}),l.a.createElement(He,{label:"Towards",value:"towards"}),l.a.createElement(He,{label:"Amount",value:"amount"}),l.a.createElement(He,{label:"Expense Type",value:"expenseType"}),l.a.createElement(He,{label:"Comments",value:"comments"}))):l.a.createElement(Ue,{element:l.a.createElement($.a,{className:"dashboard__secondHeader__download",disabled:0===k.length,endIcon:l.a.createElement(Ye.a,{className:"download"})},"Download")},l.a.createElement(Fe,{data:k,name:"Utilization Certificate Report"},l.a.createElement(He,{label:"Expense Head",value:function(e){return e.key.toUpperCase()}}),l.a.createElement(He,{label:"Allocated",value:"totalCost"}),l.a.createElement(He,{label:"Utilized",value:"totalSpent"}),l.a.createElement(He,{label:"% Utilized",value:function(e){return parseFloat(e.utilized)}})))),"list"===v?l.a.createElement(l.a.Fragment,null,k.map((function(e,a){var t=A.filter((function(a){return e.key===a.expenseHead})),n=e.totalSpent;return a!==k.length-1&&l.a.createElement("div",{key:a},l.a.createElement("div",{className:T.indexOf(a)>=0?"dashboard__expenseHeads dashboard__expenseHeads--open":"dashboard__expenseHeads",onClick:n?function(){return function(e){var a=T.indexOf(e);if(a<0)I([].concat(Object(N.a)(T),[e]));else{var t=Object(N.a)(T);t.splice(a,1),I(t)}}(a)}:function(){return!1}},l.a.createElement("p",{className:"capitalize"},e.key),l.a.createElement("p",{className:"dashboard__expenseHeads__amount money"},"\u20b9\xa0",n.toLocaleString("hi")," "),n?l.a.createElement("span",{className:"dashboard__expenseHeads__icon",title:T.indexOf(a)>=0?"close":"open"},T.indexOf(a)>=0?l.a.createElement(Be.a,null):l.a.createElement(Ae.a,null)):""),t.length>0&&T.indexOf(a)>=0?l.a.createElement("div",{className:"dashboard__expenseHeads__drillDown"},l.a.createElement("p",null,l.a.createElement("b",null,"Date")),l.a.createElement("p",null,l.a.createElement("b",null,"Paid To")),l.a.createElement("p",null,l.a.createElement("b",null,"Towards")),l.a.createElement("p",{className:"money"},l.a.createElement("b",null,"Amount")),l.a.createElement("p",null,l.a.createElement("b",null,"Expense Type")),l.a.createElement("p",null,l.a.createElement("b",null,"Comments")),t.map((function(e,a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement("p",null,e.issuedDate?j()(e.issuedDate).format("DD-MM-YYYY"):"NA"),l.a.createElement("p",null,console.log(isNaN(parseInt(e.paidTo))),"salary"===e.expenseType?e.paidTo?isNaN(parseInt(e.paidTo))?e.paidTo:F.filter((function(a){return a.userId===parseInt(e.paidTo)})).map((function(e){return e.userName})):"NA":e.paidTo?e.paidTo:"NA"),l.a.createElement("p",null,"salary"===e.expenseType?"Monthly salary":e.towards?e.towards:"NA"),l.a.createElement("p",{className:"money"},e.amount?l.a.createElement(l.a.Fragment,null,"\u20b9\xa0",e.amount.toLocaleString("hi")):"NA"),l.a.createElement("p",null,e.expenseType?e.expenseType:"NA"),l.a.createElement("p",null,e.comments?e.comments:"NA"))}))):T.indexOf(a)>=0&&l.a.createElement("p",{className:"dashboard__expenseHeads__drillDown"},"None to display"))}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"dashboard__reports"},l.a.createElement("p",{style:{fontWeight:"bolder"}},"Expense Head"),l.a.createElement("p",{style:{fontWeight:"bolder"},className:"money"},"Allocated"),l.a.createElement("p",{style:{fontWeight:"bolder"},className:"money"},"Utilized"),l.a.createElement("p",{style:{fontWeight:"bolder"},className:"money"},"% Utilized"),l.a.createElement("p",null)),k.map((function(e,a){return l.a.createElement("div",{className:"dashboard__reports",key:a},l.a.createElement("p",{className:"capitalize"},e.key),l.a.createElement("p",{className:"money"},"\u20b9\xa0",e.totalCost?e.totalCost.toLocaleString("hi"):0),l.a.createElement("p",{className:"money"},"\u20b9\xa0",e.totalSpent?e.totalSpent.toLocaleString("hi"):0),l.a.createElement("p",{className:"money"},"NaN"!==e.utilized?parseFloat(e.utilized):0,"%"),e.utilized>100?l.a.createElement(Ve,{variant:"determinate",value:100}):l.a.createElement(Le,{variant:"determinate",value:"NaN"!==e.utilized?parseInt(e.utilized):0}))}))))},ze=t(180),Je=t.n(ze),qe=t(182),We=t.n(qe),Ke=t(181),Qe=t.n(Ke),Ge=t(183),Ze=t.n(Ge),Xe=t(184),$e=t.n(Xe),ea=t(185),aa=t.n(ea),ta=t(186),na=t.n(ta),la=t(187),sa=t.n(la),ca=t(188),ra=t.n(ca),oa=function(){var e=Object(n.useState)(""),a=Object(o.a)(e,2),t=a[0],s=a[1],c=Object(n.useState)(""),r=Object(o.a)(c,2),p=r[0],d=r[1],u=Object(n.useState)(""),_=Object(o.a)(u,2),E=_[0],b=_[1],x=Object(n.useState)(!1),f=Object(o.a)(x,2),N=f[0],h=f[1],g=Object(n.useState)(!1),v=Object(o.a)(g,2),j=v[0],y=v[1];return l.a.createElement("div",{className:"settings"},l.a.createElement("p",{className:"settings__title"},"Change Password"),l.a.createElement("div",{className:"editProject__projectDetails"},l.a.createElement("label",null,"Current Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input projects__table__input",type:"password",placeholder:"Current password",value:t,onChange:function(e){s(e.target.value)}}),j&&(""===t||""===t.trim())&&l.a.createElement("p",{className:"error"},"Please enter current password")),l.a.createElement("button",{className:"editProject__projectDetails__icon",onClick:function(){y(!1),""===t||""===t.trim()?y(!0):""===p||""===p.trim()?y(!0):""!==E&&""!==E.trim()||y(!0),p===E?(h(!1),i({method:"POST",url:"/resetPassword",headers:{accessToken:localStorage.accessToken},data:{oldPassword:t,newPassword:p}}).then((function(e){s(""),d(""),b(""),m.NotificationManager.success("Password change successful","Success",3e3)})).catch((function(e){console.log(e),m.NotificationManager.error("Unable to change password","Error",3e3)}))):h(!0)}},l.a.createElement(U.a,{className:"save"})),l.a.createElement("label",null,"New Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input projects__table__input",type:"password",placeholder:"New Password",value:p,onChange:function(e){d(e.target.value)}}),j&&(""===p||""===p.trim())&&l.a.createElement("p",{className:"error"},"Please enter a new password")),l.a.createElement("div",null),l.a.createElement("label",null,"Confirm New Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input projects__table__input",type:"password",placeholder:"Confirm New Password",value:E,onChange:function(e){b(e.target.value)}}),j&&(""===E||""===E.trim())&&l.a.createElement("p",{className:"error"},"Please re-enter the new password"),!j&&N&&l.a.createElement("p",{className:"error"},"Passwords do not match"))))},pa=function(e){var a=JSON.parse(localStorage.actions),t=Object(n.useState)([]),s=Object(o.a)(t,2),c=s[0],p=s[1],m=Object(n.useState)(0),d=Object(o.a)(m,2),u=d[0],_=d[1],E=Object(n.useState)(!1),b=Object(o.a)(E,2),f=b[0],N=b[1];Object(n.useEffect)((function(){i({method:"GET",url:"/getProjectsByUser",headers:{accessToken:localStorage.accessToken}}).then((function(e){console.log(e),p(e.data),localStorage.projectId||(localStorage.projectId=e.data[0].projectId);for(var a=0;a<e.data.length;a++)e.data[a].projectId===parseInt(localStorage.projectId)&&_(a)})).catch((function(e){console.log(e)}))}),[]);var h=l.a.createElement(r.d,null,l.a.createElement(r.b,{path:"/dashboard",render:function(e){return l.a.createElement(Re,Object.assign({},e,{projectData:{projects:c,projectId:u}}))}}),l.a.createElement(r.b,{path:"/settings",component:oa}),l.a.createElement(r.b,{path:"/cashExpense",render:function(e){return l.a.createElement(le,Object.assign({},e,{projectData:{projects:c,projectId:u}}))}}),a.viewSalaryExpense&&l.a.createElement(r.b,{path:"/salaryExpense",render:function(e){return l.a.createElement(ce,Object.assign({},e,{projectData:{projects:c,projectId:u}}))}}),l.a.createElement(r.b,{path:"/bankExpense",render:function(e){return l.a.createElement(de,Object.assign({},e,{projectData:{projects:c,projectId:u}}))}}),a.viewProject&&l.a.createElement(r.b,{path:"/projects",component:_e}),a.viewProject&&l.a.createElement(r.b,{path:"/project/edit/:id",component:ke}),a.addProject&&l.a.createElement(r.b,{path:"/addProject",component:ke}),a.viewUser&&l.a.createElement(r.b,{path:"/employees",component:fe}),a.dashboard?l.a.createElement(r.b,{path:"/*",component:function(){return l.a.createElement(r.a,{to:"/dashboard"})}}):l.a.createElement(r.b,{path:"/*",component:function(){return l.a.createElement(r.a,{to:"/cashExpense"})}}));return l.a.createElement("div",null,l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"header__left"},l.a.createElement("span",{className:"header__text header__text__name capitalize"},localStorage.userName),l.a.createElement("span",{className:"header__text header__text__role capitalize"},localStorage.userRole)),l.a.createElement("div",{className:"header__right"},l.a.createElement("div",{className:"iconStack"},l.a.createElement("button",{className:"icon",onClick:function(){localStorage.clear(),e.history.push("/")},title:"Logout"},l.a.createElement(Je.a,{className:"logout"})),l.a.createElement("button",{className:"icon",onClick:function(){e.history.push("/settings")},title:"Settings"},l.a.createElement(Qe.a,{className:"headerCommon"})),l.a.createElement("button",{className:"icon",title:"Notifications"},l.a.createElement(We.a,{className:"headerCommon"})),l.a.createElement("p",{className:"header__left__name",onClick:function(){N(!f)}},l.a.createElement("span",{className:"header__left__name__string"},c.length>0&&c[u]?c[u].projectName:"No Project"),f?l.a.createElement("i",{className:"fas fa-sort-up header__left__name__icon"}):l.a.createElement("i",{className:"fas fa-sort-down header__left__name__icon"})),f&&l.a.createElement("div",{className:"header__left__name__dropdown"},c.map((function(e,a){return l.a.createElement("p",{className:a===u?"header__left__name__dropdown__data header__left__name__dropdown__data--active":"header__left__name__dropdown__data",onClick:function(){N(!1),_(a),localStorage.projectId=c[a].projectId},key:a},e.projectName)})))))),l.a.createElement("div",{className:"sidebar"},a.dashboard?l.a.createElement(x.b,{className:"/dashboard"===e.location.pathname?"sidebar__link sidebar__link--active":"sidebar__link",to:"/dashboard"},l.a.createElement(Ze.a,{className:"headerContent sidebar__icon"}),"Dashboard"):"",a.viewProject?l.a.createElement(x.b,{className:"/projects"===e.location.pathname?"sidebar__link sidebar__link--active":"sidebar__link",to:"/projects"},l.a.createElement($e.a,{className:"headerContent sidebar__icon"}),"Projects"):"",a.viewProject?l.a.createElement(x.b,{className:"/employees"===e.location.pathname?"sidebar__link sidebar__link--active":"sidebar__link",to:"/employees"},l.a.createElement(aa.a,{className:"headerContent sidebar__icon"}),"Employees"):"",l.a.createElement(x.b,{className:"/cashExpense"===e.location.pathname?"sidebar__link sidebar__link--active":"sidebar__link",to:"/cashExpense"},l.a.createElement(na.a,{className:"headerContent sidebar__icon"}),"Cash Expense"),a.viewSalaryExpense?l.a.createElement(x.b,{className:"/salaryExpense"===e.location.pathname?"sidebar__link sidebar__link--active":"sidebar__link",to:"/salaryExpense"},l.a.createElement(sa.a,{className:"headerContent sidebar__icon"}),"Salary Expense"):"",l.a.createElement(x.b,{className:"/bankExpense"===e.location.pathname?"sidebar__link sidebar__link--active":"sidebar__link",to:"/bankExpense"},l.a.createElement(ra.a,{className:"headerContent sidebar__icon"}),"Bank Expense"),l.a.createElement("div",{className:"sidebar__footer"},l.a.createElement("p",{className:"sidebar__footer__heading"},"Expense Tracker"),l.a.createElement("p",{className:"sidebar__footer__content"},"Track all your expenses on all devices"))),l.a.createElement("div",{className:"mainContent"},h))};t(359);var ia=Object(r.g)((function(e){var a=l.a.createElement(r.d,null,l.a.createElement(r.b,{exact:!0,path:"/",component:b}),l.a.createElement(r.b,{path:"/*",component:function(){return l.a.createElement(r.a,{to:"/"})}}));return localStorage.accessToken&&(a=l.a.createElement(r.d,null,l.a.createElement(r.b,{path:"/",component:pa}))),a}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(360);c.a.render(l.a.createElement(x.a,null,l.a.createElement(ia,null),l.a.createElement(m.NotificationContainer,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[193,1,2]]]);
//# sourceMappingURL=main.39647171.chunk.js.map